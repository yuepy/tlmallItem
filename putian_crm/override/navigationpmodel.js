/*<ORACLECOPYRIGHT>
* Copyright (C) 1994-2015 Oracle and/or its affiliates. All rights reserved.
* Oracle and Java are registered trademarks of Oracle and/or its affiliates.
* Other names may be trademarks of their respective owners.
* UNIX is a registered trademark of The Open Group.
*
* This software and related documentation are provided under a license agreement
* containing restrictions on use and disclosure and are protected by intellectual property laws.
* Except as expressly permitted in your license agreement or allowed by law, you may not use, copy,
* reproduce, translate, broadcast, modify, license, transmit, distribute, exhibit, perform, publish,
* or display any part, in any form, or by any means. Reverse engineering, disassembly,
* or decompilation of this software, unless required by law for interoperability, is prohibited.
*
* The information contained herein is subject to change without notice and is not warranted to be error-free.
* If you find any errors, please report them to us in writing.
*
* U.S. GOVERNMENT RIGHTS Programs, software, databases, and related documentation and technical data delivered to U.S.
* Government customers are "commercial computer software" or "commercial technical data" pursuant to the applicable
* Federal Acquisition Regulation and agency-specific supplemental regulations.
* As such, the use, duplication, disclosure, modification, and adaptation shall be subject to the restrictions and
* license terms set forth in the applicable Government contract, and, to the extent applicable by the terms of the
* Government contract, the additional rights set forth in FAR 52.227-19, Commercial Computer Software License
* (December 2007). Oracle America, Inc., 500 Oracle Parkway, Redwood City, CA 94065.
*
* This software or hardware is developed for general use in a variety of information management applications.
* It is not developed or intended for use in any inherently dangerous applications, including applications that
* may create a risk of personal injury. If you use this software or hardware in dangerous applications,
* then you shall be responsible to take all appropriate fail-safe, backup, redundancy,
* and other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim any liability for any
* damages caused by use of this software or hardware in dangerous applications.
*
* This software or hardware and documentation may provide access to or information on content,
* products, and services from third parties. Oracle Corporation and its affiliates are not responsible for and
* expressly disclaim all warranties of any kind with respect to third-party content, products, and services.
* Oracle Corporation and its affiliates will not be responsible for any loss, costs,
* or damages incurred due to your access to or use of third-party content, products, or services.
</ORACLECOPYRIGHT>*/
/* 8.1.1.14SIA[23044]PATCHSET99 */
if(typeof(SiebelAppFacade.NavigationPresentationModel)==="undefined"){SiebelJS.Namespace("SiebelAppFacade.NavigationPresentationModel");define("siebel/navigationpmodel",["siebel/pmodel"],function(){SiebelAppFacade.NavigationPresentationModel=(function(){var l=SiebelJS.Dependency("SiebelApp.Constants");var m=SiebelJS.Dependency("SiebelApp.Utils");var i=l.get("SWE_SCREEN_NAV_CONTROL_STR");var j=l.get("SWE_AGGR_VIEW_NAV_CONTROL_STR");var d=l.get("SWE_DET_VIEW_NAV_CONTROL_STR");var g=l.get("SWE_DET_SUB_VIEW_NAV_CONTROL_STR");function f(p,q){this.type=q;SiebelAppFacade.NavigationPresentationModel.superclass.constructor.call(this,p)}SiebelJS.Extend(f,SiebelAppFacade.PresentationModel);f.prototype.Init=function(){this.AddProperty("GetType",this.type);if(SiebelApp.S_App.IsRwd()&&!k.call()){this.AddProperty("placeholder","");this.AddProperty("SubPlaceholder","")}else{this.AddProperty("placeholder",this.type===l.get("SWE_PROP_NC_ID_SCREEN_CONTROL")?l.get("SWE_PROP_NC_ID_SCREEN_CONTROL"):l.get("SWE_PROP_NC_ID_VIEW_CONTROL"));this.AddProperty("SubPlaceholder",this.type===l.get("SWE_PROP_NC_ID_SCREEN_CONTROL")?l.get("SWE_PROP_NC_ID_SCREEN_VIEW_CONTROL"):l.get("SWE_PROP_NC_ID_SUB_VIEW_CONTROL"))}this.AddProperty("LevelPlaceholder","");this.AddProperty("IsScreen",(this.Get("GetType")===l.get("SWE_PROP_NC_ID_SCREEN_CONTROL")));this.AddProperty("GetTitle",SiebelApp.S_App.GetScreenNavTitle());this.AddProperty("SiteMapPlaceHolder",l.get("SWE_PROP_NC_ID_APP_MENU"));if(this.Get("GetType")===l.get("SWE_PROP_NC_ID_SCREEN_CONTROL")){this.AttachPSHandler(l.get("SWE_PROP_NC_SCREENCTRL_INFO"),function(p){c.call(this,p)});this.AttachPSHandler(l.get("SWE_PROP_NC_FLOATING_TAB_INFO"),function(p){b.call(this,p);c.call(this,p)});this.AttachPSHandler(l.get("SWE_PROP_NC_AGGREGATE_INFO"),function(p){b.call(this,p);c.call(this,p)})}else{this.AttachPSHandler(l.get("SWE_PROP_NC_SUBDETAIL_INFO"),function(p){b.call(this,p);c.call(this,p)});this.AttachPSHandler(l.get("SWE_PROP_NC_DETAIL_INFO"),function(p){b.call(this,p);c.call(this,p)})}this.AddMethod("Refresh",null,{core:true});this.AttachEventHandler("OnClick",function(p){return o.call(this,p)},{core:true});this.AddMethod("FocusNavLink",null,{core:true})};function k(){return !!SiebelAppFacade.HBNavPlugin}function o(p){var q="",r="";switch(p.level){case i:q=p.defaultViewName;r=r+"&SWECmd=GotoView&SWEView="+q+"&SWEKeepContext=0&SWENeedContext=false";break;case j:case d:case g:q=p.viewName;r=r+"&SWECmd=GotoView&SWEView="+q+"&SWEKeepContext=1&SWENeedContext=false";break}return SiebelApp.S_App.GotoView(q,"",r,null)}f.prototype.Setup=function(p){SiebelAppFacade.NavigationPresentationModel.superclass.Setup.call(this,p);if(this.Get("GetType")===l.get("SWE_PROP_NC_ID_SCREEN_CONTROL")){c.call(this,p.GetChildByType(l.get("SWE_PROP_NC_SCREENCTRL_INFO")))}};function c(p){var q=p.GetType();if(SiebelApp.S_App.IsRwd()){var r=p.GetProperty(l.get("SWE_PROP_TMPL_ITM_HOLDER"));if(q===l.get("SWE_PROP_NC_SCREENCTRL_INFO")){n.call(this,p);this.SetProperty("placeholder",r)}else{if(q===l.get("SWE_PROP_NC_FLOATING_TAB_INFO")){h.call(this,p)}else{if(q===l.get("SWE_PROP_NC_AGGREGATE_INFO")||q===SiebelApp.Constants.get("SWE_PROP_NC_SUBDETAIL_INFO")){e.call(this,p,false);this.SetProperty("SubPlaceholder",r)}else{if(q===l.get("SWE_PROP_NC_DETAIL_INFO")){e.call(this,p,true);this.SetProperty("placeholder",r)}else{return}}}}}else{if(q===l.get("SWE_PROP_NC_SCREENCTRL_INFO")){n.call(this,p)}else{if(q===l.get("SWE_PROP_NC_FLOATING_TAB_INFO")){h.call(this,p)}else{if(q===l.get("SWE_PROP_NC_AGGREGATE_INFO")||q===SiebelApp.Constants.get("SWE_PROP_NC_SUBDETAIL_INFO")){e.call(this,p,false)}else{if(q===l.get("SWE_PROP_NC_DETAIL_INFO")){e.call(this,p,true)}else{return}}}}}}function n(s){var t=s.GetChildCount();var w="";var v;var p=l.get("SWE_PST_QTP_INFO");var x=l.get("SWE_PROP_NC_ITEM_INFO");if(this.Get("GetTabInfo")===null||this.Get("GetTabInfo")===undefined){this.AddProperty("GetTabInfo",{})}if(this.Get("GetTabItemsQTPInfo")===undefined){this.AddProperty("GetTabItemsQTPInfo",[])}for(var r=0,q=0;r<t;r++){var u=s.GetChild(r);v=u.GetType();if(v===p){this.AddProperty("GetTabContainerQTPInfo",u);continue}else{if(v!==x){continue}}this.Get("GetTabInfo")["tabScreen"+q]=a.call(this,u);q++}w=s.GetProperty(l.get("SWE_PROP_NC_SELECTED_INDEX"));this.AddProperty("GetSelectedTabKey","tabScreen"+w);this.AddProperty("GetDataReload",true)}function a(p){if(m.IsEmpty(p)){return}var q={};q.screenName=p.GetProperty(l.get("SWE_PROP_NC_SCREEN_NAME"));q.defaultViewName=p.GetProperty(l.get("SWE_PROP_NC_VIEW_NAME"));q.captionName=p.GetProperty(l.get("SWE_PROP_NC_CAPTION"));q.tabIcon=p.GetProperty(l.get("SWE_PROP_NC_SCREEN_TAB_ICON"));var s=l.get("SWE_PST_QTP_INFO");var t=p.GetChildCount();for(var r=0;r<t;r++){if(p.GetChild(r).GetType()===s){this.Get("GetTabItemsQTPInfo").push(p.GetChild(r))}}return q}function h(p){if(m.IsEmpty(p)||p.GetType()!==l.get("SWE_PROP_NC_FLOATING_TAB_INFO")){return}var t=p.GetChild(0);if(t.GetType()!==l.get("SWE_PROP_NC_ITEM_INFO")){return}var w=false;var u=0;var v=t.GetProperty(l.get("SWE_PROP_NC_SCREEN_NAME"));var s=l.get("SWE_PROP_NC_SELECTED_INDEX");var r;var q=this.Get("GetTabInfo");for(var x in q){if(q.hasOwnProperty(x)){if(this.Get("GetTabInfo")[x].screenName===v){v=r.GetProperty(s);if(v){this.AddProperty("GetSelectedTabKey","tabScreen"+v)}else{this.AddProperty("GetSelectedTabKey",x)}w=true}u++}}if(w){return}this.Get("GetTabInfo")["tabScreen"+u]=a.call(this,t);this.AddProperty("GetSelectedTabKey","tabScreen"+u);this.AddProperty("GetDataReload",true)}function e(y,B){if(B){this.AddProperty("GetTabInfo",{});this.AddProperty("GetTabContainerQTPInfo",null);this.AddProperty("GetTabItemsQTPInfo",[])}else{var q={};this.AddProperty("GetSelectedTabLinkInfo",q);this.AddProperty("GetTabViewLinkContainerQTPInfo",null);this.AddProperty("GetTabViewLinkItemsQTPInfo",[])}var v=y.GetChildCount();var A;var p=l.get("SWE_PST_QTP_INFO");var C=l.get("SWE_PROP_NC_ITEM_INFO");if(!((v===1)&&(y.GetChild(0).GetType()===p))){for(var t=0,z=0;t<v;t++){var s={};var w=y.GetChild(t);var x=w.GetType();if(x===p){if(B){this.AddProperty("GetTabContainerQTPInfo",w)}else{this.AddProperty("GetTabViewLinkContainerQTPInfo",w)}continue}else{if(x===l.get("SWE_QTP_JUMP_TAB_INFO")){if(w.GetChild(0).GetType()===p){this.AddProperty("GetJumpTabQTPInfo",w.GetChild(0))}continue}else{if(x!==C){continue}}}A=w.GetProperty(l.get("SWE_PROP_NC_VIEW_NAME"));s.viewName=A;A=w.GetProperty(l.get("SWE_PROP_NC_CAPTION"));s.captionName=A;if(B){this.Get("GetTabInfo")["tabScreen"+z]=s}else{this.Get("GetSelectedTabLinkInfo")["tabView"+z]=s}var u=w.GetChildCount();for(var r=0;r<u;r++){if(w.GetChild(r).GetType()===p){if(B){this.Get("GetTabItemsQTPInfo").push(w.GetChild(r))}else{this.Get("GetTabViewLinkItemsQTPInfo").push(w.GetChild(r))}}}z++}}A=y.GetProperty(l.get("SWE_PROP_NC_SELECTED_INDEX"));if(A!==undefined){B?this.AddProperty("GetSelectedTabKey","tabScreen"+A):this.AddProperty("GetSelectedLinkKey","tabView"+A)}else{B?this.AddProperty("GetSelectedTabKey",A):this.AddProperty("GetSelectedLinkKey",A)
}this.AddProperty("GetDataReload",true)}function b(v){var q=true;var y=null;var x=null;var t=SiebelApp.S_App;var u=l.get("SWE_PROP_NC_SELECTED_INDEX");var p=l.get("SWE_PST_QTP_INFO");x=v.GetType();if((x===l.get("SWE_PROP_NC_PDQ_INFO"))||(x===l.get("SWE_PST_QTP_INFO"))){return}for(q=true;(y=v.EnumProperties(q))!==null;q=false){if(y!==u){x=v.GetProperty(y);if(t===null||t===undefined){break}else{var w=t.LookupStringCache(x);if(SiebelApp.S_App.IsRwd()){if(!w&&x){continue}}else{if(w===null||w===undefined){continue}}v.SetProperty(y,w)}}}var s=v.GetChildCount();for(var r=0;r<s;r++){if(v.GetType()!==p){b.call(this,v.GetChild(r))}}}return f}());return"SiebelAppFacade.NavigationPresentationModel"})};