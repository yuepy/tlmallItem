(function (win, ysp) {
  ysp.runtime.Model.extendLoadingModel({
    getData_control46_IeXn9y: function (elem) {
      if (!elem) {
        return;
      }var data = { content: [], checkSum: [] //var content = [];
      };var sum = 0;var lis = elem.querySelector("#businessDepartment").querySelectorAll("li");[].forEach.call(lis, function (li, index) {
        var text = [];var input = li.querySelector("input");var checked = $(input).prop("checked"); //获取选择了多少个业务部门
        if (true == checked) {
          sum++;
        }text.push(checked);text.push(li.querySelector("input").getAttribute("val"));data.content.push(text);
      });data.checkSum.push(sum);return data;
    }, doAction_uiControl49_Q2Z6nE: function (data, elem) {
      if (data.eventType == 'AndroidBack') {
        if (top.EAPI.isAndroid()) {
          //刷新
          top.yspCheckIn.isRefresh(true);
        }ysp.customHelper.AndroidBackURL = "http://192.168.1.227/pttlCrm/res/page/visitManager/customerWorkspace/customerWorkspace.html";ysp.customHelper.AndroidBackModel = 'customerWorkspace';ysp.customHelper.AndroidBackFlag = 'destination';
      }if ('back' == data.eventType) {
        debugger;if (!top.EAPI.isAndroid()) {
          ysp.appMain.back();ysp.customHelper.BackReload('http://192.168.1.227/pttlCrm/res/page/visitManager/customerWorkspace/customerWorkspace.html', 'customerWorkspace');
        } else {
          //刷新
          ysp.appMain.back();ysp.customHelper.AndroidBackFn(); //top.yspCheckIn.isRefresh(true); 		
        }
      }if ("click" == data.eventType) {
        var index = data.dataCustom;elem.querySelector("#businessDepartment").querySelectorAll("li")[index].querySelector("input").click();
      }if ("chose" == data.eventType) {
        elem.querySelector(".work-tit").querySelector("a").click();
      }if ("close" == data.eventType) {
        elem.querySelector(".b-box").querySelector(".qx").click();
      }if ("save" == data.eventType) {
        elem.querySelector("#confirmOperatingDepartment").click();
      }
    }, getTemplate_uiControl49_Q2Z6nE: function () {
      var selfTemplate = "import {\n  Component\n} from 'react';\nimport {\n  CustomHeader,\n  Dialog,\n} from 'ysp-custom-components';\nexport default class extends Component {\n  componentDidMount(){\n    var _this = this;\n \xA0 \xA0//const {customHandler} = _this.props;\n \xA0 \xA0var customHandler = _this.props.customHandler;\n    customHandler({\n      eventType:'AndroidBack'\n    })\n  } \n  constructor(props) {\n    super(props);\n    this.state={\n      open: false\n    }\n  }\n  handlerClick(e){\n    var target = e.target;\n    var index = target.dataset.index;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        data: index,\n        eventType: 'click'\n      })\n    }\n  }\n  save(e){\n    this.setState({\n      open: !this.state.open\n    })\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType: 'save'\n      })\n    }\n  }\n  render = () => {\n    var content = this.props.customData && this.props.customData.content || [];\n    var checkSum = this.props.customData && this.props.customData.checkSum || 0;\n    return (\n      <div>\n      \t<CustomHeader \n         data={{centerText:\"\u603B\u7ED3\u5185\u5BB9\"}}\n         backIsShow={true}\n         back={(e)=>{\n            var handler = this.props.customHandler;\n            if (handler) {\n              handler({\n                eventType: 'back'\n              });\n            }\n         }} \n         filterIsShow={false}\n         choseIsShow = {true}\n         chose = {(e)=>{\n          this.setState({\n            open: !this.state.open\n          })\n          var handler = this.props.customHandler;\n          if (handler) {\n            handler({\n              eventType: 'chose'\n            });\n          }  \n         }}\n         filter={()=>{console.info(\"header filter ...\")}}\n      />\n        {\n          this.state.open &&\n            <Dialog className=\"ysp-workSummary-dialog\">\n            \t<CustomHeader\n               data={{centerText:\"\u4E1A\u52A1\u90E8\u95E8\"}}\n               backIsShow={true}\n               back={(e)=>{\n                  this.setState({\n                    open: !this.state.open\n                  })\n                  var handler = this.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: 'close'\n                    });\n                  }\n               }} \n               filterIsShow={false}\n               filter={()=>{console.info(\"header filter ...\")}}\n            \t/>\n              \n              <div style={{\"marginTop\":\"43px\"}}>\n                {\n                  content.length >0 ? \n                  content.map((items,index)=>{\n                    return(\n                    \t<div className=\"ysp-workSummary-business\" >\n                        <span className={items[0] == true ? \"ysp-workSummary-checked\" : \"\"} onClick={this.handlerClick.bind(this)} data-index={index}></span>\n                        <span>{items[1]}</span>\n                    \t</div>\n                    );\n                    \n                  }) : <div>\u65E0\u6570\u636E</div>\n                }\n              </div>\n              \n              <div className=\"ysp-workSummary-yes\">\n                <span onClick={this.save.bind(this)}>\u786E\u8BA4({checkSum})</span>\n              </div>\n            </Dialog>\n        }\n      </div>\n      \n    );\n  }\n}";
      return "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _yspCustomComponents = require('ysp-custom-components');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_Component) {\n  _inherits(_class, _Component);\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this = this;\n      //const {customHandler} = _this.props;\n      var customHandler = _this.props.customHandler;\n      customHandler({\n        eventType: 'AndroidBack'\n      });\n    }\n  }]);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this2 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this2.render = function () {\n      var content = _this2.props.customData && _this2.props.customData.content || [];\n      var checkSum = _this2.props.customData && _this2.props.customData.checkSum || 0;\n      return React.createElement(\n        'div',\n        null,\n        React.createElement(_yspCustomComponents.CustomHeader, {\n          data: { centerText: \"\u603B\u7ED3\u5185\u5BB9\" },\n          backIsShow: true,\n          back: function back(e) {\n            var handler = _this2.props.customHandler;\n            if (handler) {\n              handler({\n                eventType: 'back'\n              });\n            }\n          },\n          filterIsShow: false,\n          choseIsShow: true,\n          chose: function chose(e) {\n            _this2.setState({\n              open: !_this2.state.open\n            });\n            var handler = _this2.props.customHandler;\n            if (handler) {\n              handler({\n                eventType: 'chose'\n              });\n            }\n          },\n          filter: function filter() {\n            console.info(\"header filter ...\");\n          }\n        }),\n        _this2.state.open && React.createElement(\n          _yspCustomComponents.Dialog,\n          { className: 'ysp-workSummary-dialog' },\n          React.createElement(_yspCustomComponents.CustomHeader, {\n            data: { centerText: \"\u4E1A\u52A1\u90E8\u95E8\" },\n            backIsShow: true,\n            back: function back(e) {\n              _this2.setState({\n                open: !_this2.state.open\n              });\n              var handler = _this2.props.customHandler;\n              if (handler) {\n                handler({\n                  eventType: 'close'\n                });\n              }\n            },\n            filterIsShow: false,\n            filter: function filter() {\n              console.info(\"header filter ...\");\n            }\n          }),\n          React.createElement(\n            'div',\n            { style: { \"marginTop\": \"43px\" } },\n            content.length > 0 ? content.map(function (items, index) {\n              return React.createElement(\n                'div',\n                { className: 'ysp-workSummary-business' },\n                React.createElement('span', { className: items[0] == true ? \"ysp-workSummary-checked\" : \"\", onClick: _this2.handlerClick.bind(_this2), 'data-index': index }),\n                React.createElement(\n                  'span',\n                  null,\n                  items[1]\n                )\n              );\n            }) : React.createElement(\n              'div',\n              null,\n              '\\u65E0\\u6570\\u636E'\n            )\n          ),\n          React.createElement(\n            'div',\n            { className: 'ysp-workSummary-yes' },\n            React.createElement(\n              'span',\n              { onClick: _this2.save.bind(_this2) },\n              '\\u786E\\u8BA4(',\n              checkSum,\n              ')'\n            )\n          )\n        )\n      );\n    };\n\n    _this2.state = {\n      open: false\n    };\n    return _this2;\n  }\n\n  _createClass(_class, [{\n    key: 'handlerClick',\n    value: function handlerClick(e) {\n      var target = e.target;\n      var index = target.dataset.index;\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: index,\n          eventType: 'click'\n        });\n      }\n    }\n  }, {\n    key: 'save',\n    value: function save(e) {\n      this.setState({\n        open: !this.state.open\n      });\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          eventType: 'save'\n        });\n      }\n    }\n  }]);\n\n  return _class;\n}(_react.Component);\n\nexports.default = _class;";
    },
    getData_control52_eQ7d8h: function (elem) {
      if (!elem) {
        return;
      }var data = { select: [], //下拉选项
        date: [], //时间
        textSum: [], huaweiFD: { huaweiFDFlag: [], huaweiFDText: [] }, huaweiPJ: { huaweiPJFlag: [], huaweiPJText: [] }, huaweiStore: { huaweiStoreFlag: [], huaweiStoreText: [] }, samsung: { samsungFlag: [], samsungText: [] }, distribution: { distributionFlag: [], distributionText: [] }, others: { othersFlag: [], othersText: [] }, problemValue: [], content: [], flag: [], file: [], searchList: '', No: '', boxId: "", personIndex: "" };var elem = elem.ownerDocument;var win = elem.defaultView;var options = elem.querySelector("#workSummaryPlanType").querySelectorAll("option");var value;for (var i = 0; i < options.length; i++) {
        value = options[i].textContent;data.select.push(value);
      } //时间选择
      var date = elem.querySelector("#workSummaryPlanTimeLable").querySelector("span").textContent;data.date.push(date);var text = elem.querySelectorAll(".con-box")[0].querySelector("textarea").value;data.textSum.push(text);var textAreas = elem.querySelector("#textareaDivs").querySelectorAll("div");var huaweiFD = "";var huaweiPJ = "";var huaweiStore = "";var samsung = "";var distribution = "";var others = "";for (var i = 0; i < textAreas.length; i++) {
        var val = textAreas[i].querySelector("textarea").getAttribute("val");if ("华为FD业务事业部" == val) {
          huaweiFD = "华为FD业务事业部";var text = textAreas[i].querySelector("textarea").value;data.huaweiFD.huaweiFDFlag.push(huaweiFD);data.huaweiFD.huaweiFDText.push(text);
        } else if ("融合及配件业务事业部" == val) {
          huaweiPJ = "融合及配件业务事业部";var text = textAreas[i].querySelector("textarea").value;data.huaweiPJ.huaweiPJFlag.push(huaweiPJ);data.huaweiPJ.huaweiPJText.push(text);
        } else if ("华为体验店业务事业部" == val) {
          huaweiStore = "华为体验店业务事业部";var text = textAreas[i].querySelector("textarea").value;data.huaweiStore.huaweiStoreFlag.push(huaweiStore);data.huaweiStore.huaweiStoreText.push(text);
        } else if ("三星业务事业部" == val) {
          samsung = "三星业务事业部";var text = textAreas[i].querySelector("textarea").value;data.samsung.samsungFlag.push(samsung);data.samsung.samsungText.push(text);
        } else if ("大客户业务部" == val) {
          distribution = "大客户业务部";var text = textAreas[i].querySelector("textarea").value;data.distribution.distributionFlag.push(distribution);data.distribution.distributionText.push(text);
        } else if ("其他" == val) {
          others = "其他";var text = textAreas[i].querySelector("textarea").value;data.others.othersFlag.push(others);data.others.othersText.push(text);
        }
      } //问题及所属资源
      var problemValue = elem.querySelector(".problem-con") && elem.querySelector(".problem-con").querySelector("textarea").value;data.problemValue.push(problemValue); //选项
      var spans = elem.querySelectorAll('#lableTabs span');[].forEach.call(spans, function (span, index) {
        var spanData = [];var spanClass = span.getAttribute("class");if (null == spanClass) {
          spanData.push("true");
        } else {
          if (spanClass.indexOf("unchecked") < 0) {
            spanData.push("true");
          } else {
            spanData.push("false");
          }
        }spanData.push(span.textContent);data.content.push(spanData);
      }); //判断是否有更多
      var as = elem.querySelectorAll('#lableTabs span');var flag = [];var more = "false";if (as.length > 6) {
        more = "true";
      }data.flag.push(more); //上传图片
      data.file = [];if (elem.querySelector('#imgsDiv').querySelectorAll('.img').length > 0) {
        var divs = elem.querySelector('#imgsDiv').querySelectorAll('.img');if (window.reportSrc) {
          if (window.reportSrc.length > divs.length) {
            window.reportSrc.splice(0, window.reportSrc.length - divs.length);
          }
        } else {
          window.reportSrc = [];
        }for (var i = 0; i < divs.length; i++) {
          var src = [],
              title = [],
              content = [];var imgCanvas = ysp.customHelper.convertImageToCanvas(divs[i].querySelector('img'));var scrC = ysp.customHelper.convertCanvasToImage(imgCanvas);src.push(scrC);var s;title.push(divs[i].getAttribute("imgname"));content.push(divs[i].getAttribute("imgname"));var images = { title: title, content: content, src: src };data.file.push(images);
        }
      } /*_____________________
               	以下为选中人员确定按钮展示人数
               _______________________*/if (elem.querySelector('#ContactSure') != null) {
        data.commit = { number: elem.querySelector('#ContactSure').querySelector('em').textContent };
      } /*_____________________
                	以下为Dialog中展示数据
                _______________________*/var DialogElem = elem;var branchs = DialogElem.querySelector('#ContactAlert').querySelectorAll('.box');data.Dialog = [];for (var i = 0, personnel = ''; i < branchs.length; i++) {
        var bran = [],
            perso = [],
            checked = [];bran.push([branchs[i].querySelector('.area-name').textContent.replace(/^(\s*)|(\s*)$/g, '')]);personnel = branchs[i].querySelectorAll('.lists-one');for (var j = 0; j < personnel.length; j++) {
          perso.push(personnel[j].querySelector('label').textContent.replace(/^(\s*)|(\s*)$/g, ''));checked.push(perso.length > 0 && personnel[j].querySelector('input').checked);
        }var item = { branch: bran, personnel: perso, checked: checked };data.Dialog.push(item);
      } /*_____________________
                   	以下为@人员中展示数据
                   _______________________*/data.user = { users: [], val: [], val1: [] };var users = elem.querySelector('#ContactUsers').querySelectorAll('span').length && elem.querySelector('#ContactUsers').querySelectorAll('span') || [];for (var i = 0; i < users.length; i++) {
        var textInfo = users[i].textContent.trim();data.user.users.push(textInfo);data.user.val.push(users[i].getAttribute('val'));data.user.val1.push(users[i].getAttribute('val1'));
      } //判断状态
      //var buttonLength = elem.querySelector('.btn-box').querySelectorAll('button');
      // [].forEach.call(buttonLength,function(button,index){
      //   if(button)
      // })
      var buttonLength;var draft = elem.querySelector("#draft");var save = elem.querySelector("#save");var draftStyle = win.getComputedStyle(draft).display;var saveStyle = win.getComputedStyle(save).display;if ("none" == draftStyle && "none" == saveStyle) {
        buttonLength = 1;
      } else if ("none" != draftStyle && "none" != saveStyle) {
        buttonLength = 3;
      } else if ("none" == draftStyle) {
        buttonLength = 2;
      }data.button = buttonLength; //获取搜索后的分公司
      data.subPerson = []; //var parElem = elem.parentElement.parentElement.parentElement;
      var act = $(elem).find('#contentBody').find(".z-act");if (act.length > 0) {
        act.each(function (index, item) {
          var planGs = [];var gs = $(item).find('.title').find('.area-name').html();planGs.push(gs);var itemData = { planGs: planGs };data.subPerson.push(itemData);
        });
      } //搜索人员列表
      if (elem.querySelector("#search-lists")) {
        if (elem.querySelector("#search-lists").querySelectorAll("a")[0]) {
          data.searchList = elem.querySelector("#search-lists").querySelectorAll("a")[0].getAttribute("val2");data.boxId = "box_" + data.searchList;data.No = elem.querySelector("#contentBody").querySelector("#" + data.boxId).querySelector(".area-name").textContent;var searchListVal = elem.querySelector("#search-lists").querySelectorAll("a")[0].getAttribute("val");var labelFor = "id" + searchListVal;if (elem.querySelector("#contentBody").querySelector("#" + data.boxId).querySelector("#" + labelFor)) {
            var labelEl = elem.querySelector("#contentBody").querySelector("#" + data.boxId).querySelector("#" + labelFor).parentNode.parentNode;data.personIndex = $(elem.querySelector("#contentBody").querySelector("#" + data.boxId)).find(".lists-one").index(labelEl);
          }
        }
      } /**
        return elem.defaultView.frameElement.name;**/return data;
    },
    doAction_uiControl50_m3HABT: function (data, elem) {
      // elem.ownerDocument.querySelector('#contentBody').querySelectorAll('.box')[0].querySelectorAll('div')[0].click();
      //下拉选项方法
      if (data.eventType === 'change') {
        var value = data.dataCustom.value;var selectEl = elem.querySelectorAll('select');selectEl[0].selectedIndex = value;if (selectEl[0].onchange) {
          selectEl[0].onchange();
        } else if (selectEl[0].dispatchEvent) {
          selectEl[0].dispatchEvent(new Event('change'));
        } else {
          selectEl[0].dispatchEvent(new MouseEvent('click', { view: selectEl[0].ownerDocument.defaultView, bubbles: true, cancelable: true }));
        }
      } //texarea方法
      if ("textChange" == data.eventType) {
        var flag = data.dataCustom.flag;var value = data.dataCustom.value;if ("总结内容" == flag) {
          elem.querySelectorAll(".con-box")[0].querySelector("textarea").value = value;
        } else if ("huaweiFD" == flag) {
          elem.querySelector(".huaweiFD").querySelector("textarea").value = value;
        } else if ("huaweiPJ" == flag) {
          elem.querySelector(".huaweiPJ").querySelector("textarea").value = value;
        } else if ("huaweiStore" == flag) {
          elem.querySelector(".huaweiStore").querySelector("textarea").value = value;
        } else if ("samsung" == flag) {
          elem.querySelector(".samsung").querySelector("textarea").value = value;
        } else if ("distribution" == flag) {
          elem.querySelector(".distribution").querySelector("textarea").value = value;
        } else if ("others" == flag) {
          elem.querySelector(".others").querySelector("textarea").value = value;
        } else if ("problem" == flag) {
          elem.querySelector(".problem-con").querySelector("textarea").value = value;
        }
      }if ("spanClick" == data.eventType) {
        var index = data.dataCustom;var spans = elem.querySelector("#lableTabs").querySelectorAll("span");[].forEach.call(spans, function (span, i) {
          if (index == i) {
            span.click();
          }
        });
      } //保存草稿
      if ("save" == data.eventType) {
        if (top.EAPI.isAndroid()) {
          top.yspCheckIn.isRefresh(true);
        } //history.go(-1);
        elem.querySelector("#draft") && elem.querySelector("#draft").click();ysp.appMain.showLoading();setTimeout(function () {
          ysp.appMain.hideLoading();var url = "http://192.168.1.227/pttlCrm/res/page/visitManager/customerWorkspace/customerWorkspace.html"; //ysp.appMain.reloadPage(url);
          //更换返回方法 BackReload()回到工作台
          // ysp.appMain.back();
          ysp.customHelper.back();ysp.customHelper.BackReload('http://192.168.1.227/pttlCrm/res/page/visitManager/customerWorkspace/customerWorkspace.html', 'customerWorkspace');
        }, 500);
      } //提交报告
      if ("commitReport" == data.eventType) {
        if (top.EAPI.isAndroid()) {
          top.yspCheckIn.isRefresh(true);
        }var user = data.dataCustom;if (user.length) {
          //history.go(-1);
          ysp.appMain.showLoading();setTimeout(function () {
            ysp.appMain.hideLoading();var url = "http://192.168.1.227/pttlCrm/res/page/visitManager/customerWorkspace/customerWorkspace.html"; //更换返回方法 BackReload()回到工作台
            // ysp.appMain.back();
            ysp.customHelper.back();ysp.customHelper.BackReload('http://192.168.1.227/pttlCrm/res/page/visitManager/customerWorkspace/customerWorkspace.html', 'customerWorkspace');
          }, 500);
        }elem.querySelector("#save") && elem.querySelector("#save").click();
      } //点击at报告
      if ("at" == data.eventType) {
        elem.querySelector("#DisplayContact") && elem.querySelector("#DisplayContact").click();
      }if ("branch" == data.eventType) {
        var data = data.dataCustom;var index = data.Index;var oldNumber = data.OldNumber;if (oldNumber !== '') {
          var btn1 = elem.ownerDocument.querySelectorAll(".area-name")[oldNumber];btn1.click();
        }var btn = elem.ownerDocument.querySelectorAll(".area-name")[index];btn.click();
      }if ("cancel" == data.eventType) {
        var index = data.dataCustom;var btn = elem.ownerDocument.querySelectorAll(".area-name")[index];btn.click();
      }if ("personnel" == data.eventType) {
        var data = data.dataCustom;var index = data.Index;var parentIndex = data.parentIndex;var parent = elem.ownerDocument.querySelectorAll('.box')[parentIndex];var btn = parent.querySelectorAll(".iCheck-helper")[index];btn.click();
      } //抄送人员搜索方法
      if ("serch" == data.eventType) {
        var sureFlag = ''; //定义一个可以判断是不是要走样式美化的的标志字段 
        var inputVal = data.dataCustom.value;var ele = elem.ownerDocument;ele.querySelector('#contactSearch').value = data.dataCustom.value;ele.querySelector('#icon-search').click();var lists = ele.querySelector('#search-lists');var as = lists.firstElementChild;if (as == null) {
          setTimeout(function () {
            var list = lists.firstElementChild;if (list) {
              var personName = list.innerText;if (inputVal && personName.indexOf(inputVal) != -1) {
                list.click();sureFlag = 'true';
              } else {
                sureFlag = 'false';
              }if (window.sessionStorage) {
                window.sessionStorage.setItem("sureFlag", sureFlag);
              }
            } else {
              setTimeout(function () {
                var list = lists.firstElementChild;if (list) {
                  var personName = list.innerText;if (inputVal && personName.indexOf(inputVal) != -1) {
                    list.click();sureFlag = 'true';
                  } else {
                    sureFlag = 'false';
                  }if (window.sessionStorage) {
                    window.sessionStorage.setItem("sureFlag", sureFlag);
                  }
                }
              }, 500);
            }
          }, 500);
        } else {
          setTimeout(function () {
            var list = lists.firstElementChild;if (list) {
              var name = list.innerText;if (inputVal && name.indexOf(inputVal) != -1) {
                list.click();sureFlag = 'true';
              } else {
                sureFlag = 'false';
              }
            } else {
              sureFlag = 'false';
            }if (window.sessionStorage) {
              window.sessionStorage.setItem("sureFlag", sureFlag);
            }
          }, 500);
        }
      } /**控制原PC分公司的 关闭与展开**/if ("oldBranch" == data.eventType) {
        var oldNumber = +data.dataCustom;if (!isNaN(oldNumber)) {
          var btn1 = elem.ownerDocument.querySelectorAll(".area-name")[oldNumber];btn1.click();
        }
      } /**通过移动端控制原PC分公司项闭合**/if ("selectCommit" == data.eventType) {
        elem.ownerDocument.querySelector('#ContactSure').click();
      } //删除所选人员
      if ("icon-close" == data.eventType) {
        var index = data.dataCustom;elem.ownerDocument.querySelector('#ContactUsers').querySelectorAll('span')[index].querySelector('i').click();
      } //删除上传图片
      if ("delect" == data.eventType) {
        var index = data.dataCustom;elem.querySelector("#imgsDiv").querySelectorAll('.img')[index].querySelector('a').click();
      }if ("imageClick" == data.eventType) {
        if (top.EAPI.isAndroid()) {
          top.yspCheckIn.isRefresh(false);
        }elem.querySelector("#formUploadify").querySelector('#importFile').click();
      }if ("chose" == data.eventType) {
        var text = data.dataCustom;if ("华为FD业务事业部" == text) {
          elem.querySelector(".huaweiFD").querySelector("a").click();
        } else if ("融合及配件业务事业部" == text) {
          elem.querySelector(".huaweiPJ").querySelector("a").click();
        } else if ("华为体验店业务事业部" == text) {
          elem.querySelector(".huaweiStore").querySelector("a").click();
        } else if ("三星业务事业部" == text) {
          elem.querySelector(".samsung").querySelector("a").click();
        } else if ("大客户业务部" == text) {
          elem.querySelector(".distribution").querySelector("a").click();
        } else if ("其他" == text) {
          elem.querySelector(".others").querySelector("a").click();
        }
      }
    },
    getTemplate_uiControl50_m3HABT: function () {
      var selfTemplate = "import {ComplexHeader,\n        SaleReachCalendar,\n        Dialog,\n        CustomHeader,\n       \tCustomerSerch} from 'ysp-custom-components';\nexport default class extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      open: false,\n      flag:false,\n      more: false,\n      show: false,\n      index:'',\n      defaultIndex:0,\n      textSum: props.data.customData && props.data.customData.textSum,\n      problemValue: props.data.customData && props.data.customData.problemValue,\n    \thuaweiFDFlag: props.data.customData && props.data.customData.huaweiFD && props.data.customData.huaweiFD.huaweiFDFlag,\n    \thuaweiFDText: props.data.customData && props.data.customData.huaweiFD && props.data.customData.huaweiFD.huaweiFDText,\n    \thuaweiPJFlag: props.data.customData && props.data.customData.huaweiPJ && props.data.customData.huaweiPJ.huaweiPJFlag,\n    \thuaweiPJText: props.data.customData && props.data.customData.huaweiPJ && props.data.customData.huaweiPJ.huaweiPJText,\n    \thuaweiStoreFlag: props.data.customData && props.data.customData.huaweiStore && props.data.customData.huaweiStore.huaweiStoreFlag,\n    \thuaweiStoreText: props.data.customData && props.data.customData.huaweiStore && props.data.customData.huaweiStore.huaweiStoreText,\n      /***\n    \thuaweiSBFlag: props.data.customData && props.data.customData.huaweiSB && props.data.customData.huaweiSB.huaweiSBFlag,\n    \thuaweiSBText: props.data.customData && props.data.customData.huaweiSB && props.data.customData.huaweiSB.huaweiSBText,\n      ***/\n    \tsamsungFlag: props.data.customData && props.data.customData.samsung && props.data.customData.samsung.samsungFlag,\n    \tsamsungText: props.data.customData && props.data.customData.samsung && props.data.customData.samsung.samsungText,\n    \tdistributionFlag: props.data.customData && props.data.customData.distribution && props.data.customData.distribution.distributionFlag,\n    \tdistributionText: props.data.customData && props.data.customData.distribution && props.data.customData.distribution.distributionText,\n    \tothersFlag: props.data.customData && props.data.customData.others && props.data.customData.others.othersFlag,\n    \tothersText: props.data.customData && props.data.customData.others && props.data.customData.others.othersText\n      \n    }\n  }\n  \n  componentDidMount(e){\n    var outer=this.refs.work.ownerDocument.querySelector('.view-wrapper');\n    setTimeout(function(){\n\xA0\xA0\xA0\xA0\xA0\xA0outer.scrollTop=0\n\xA0\xA0\xA0\xA0},500);\n    this.viewer = new Viewer(this.refs.Img);\n  }\n  componentDidMount(){\n    var _this = this;\n  }\n   Dimg=(e)=>{\n     var _this = this;\n    _this.viewer = new Viewer(this.refs.Img);\n    _this.viewer.show();\n  }\n  componentWillReceiveProps(nextProps){\n    this.setState({\n      textSum: nextProps.customData && nextProps.customData.textSum,\n      problemValue : nextProps.customData && nextProps.customData.problemValue,\n      huaweiFDFlag: nextProps.customData && nextProps.customData.huaweiFD && nextProps.customData.huaweiFD.huaweiFDFlag,\n        huaweiFDText: nextProps.customData && nextProps.customData.huaweiFD && nextProps.customData.huaweiFD.huaweiFDText,\n        huaweiPJFlag: nextProps.customData && nextProps.customData.huaweiPJ && nextProps.customData.huaweiPJ.huaweiPJFlag,\n        huaweiPJText: nextProps.customData && nextProps.customData.huaweiPJ && nextProps.customData.huaweiPJ.huaweiPJText,\n        huaweiStoreFlag: nextProps.customData && nextProps.customData.huaweiStore && nextProps.customData.huaweiStore.huaweiStoreFlag,\n        huaweiStoreText: nextProps.customData && nextProps.customData.huaweiStore && nextProps.customData.huaweiStore.huaweiStoreText,\n      /***\n        huaweiSBFlag: nextProps.customData && nextProps.customData.huaweiSB && nextProps.customData.huaweiSB.huaweiSBFlag,\n        huaweiSBText: nextProps.customData && nextProps.customData.huaweiSB && nextProps.customData.huaweiSB.huaweiSBText,\n        ***/\n        samsungFlag: nextProps.customData && nextProps.customData.samsung && nextProps.customData.samsung.samsungFlag,\n        samsungText: nextProps.customData && nextProps.customData.samsung && nextProps.customData.samsung.samsungText,\n        distributionFlag: nextProps.customData && nextProps.customData.distribution && nextProps.customData.distribution.distributionFlag,\n        distributionText: nextProps.customData && nextProps.customData.distribution && nextProps.customData.distribution.distributionText,\n        othersFlag: nextProps.customData && nextProps.customData.others && nextProps.customData.others.othersFlag,\n        othersText: nextProps.customData && nextProps.customData.others && nextProps.customData.others.othersText\n      })\n  }\n  renderOptions(){\n  \tvar data = this.props.customData && this.props.customData.select;\n    return data.map((item,index) => {\n    \treturn (\n      \t<option value={index}>{item}</option>\n      )\n    })\n  }\n  handlerChange(e){\n    var value = e.target.selectedIndex;\n    var handler = this.props.customHandler;\n    if(handler){\n    \thandler({\n      \tdata: {\n          value: value\n        },\n        eventType: 'change'\n      })\n    }\n  }\n  \n  //\u65F6\u95F4\u6309\u94AE\u65B9\u6CD5\n  handlerClick(e){\n    var evt = new Event('ysp-workTime-show')\n    window.dispatchEvent(evt)\n  }\n  commonClickSearch(){\n    var _this = this,data = _this.props.customData,i=_this.state.index;\n    _this.refs.personsum.scrollTop=(i*45);\n    var currentBranchPerson = _this.refs.personsum.querySelectorAll(\".ysp-atreport-dialog-person\")[i];\n    currentBranchPerson.querySelector(\".ysp-atreport-dialog-gs\").setAttribute('dialog', 'true');\n    currentBranchPerson.querySelector(\".ysp-atreport-dialog-gs span.Dialog-file-Wj\").style.color = '#4789e0';\n    currentBranchPerson.querySelector(\".ysp-atreport-dialog-gs\").firstChild.setAttribute('class', 'unactive');\n    /***\u901A\u8FC7\u5FEB\u901F\u5B9A\u4F4D\u4F7F\u5F97\u5F53\u524D\u88AB\u641C\u7D22\u5230\u7684\u5206\u516C\u53F8\u7684\u67D0\u4E00\u4E2A\u4EBA\u88AB\u663E\u793A\u5728\u5F53\u524D*/\n   +data.personIndex>=1? currentBranchPerson.querySelectorAll('.ysp-person-list>div')[+data.personIndex-1].scrollIntoView():\n   (currentBranchPerson.previousElementSibling ?currentBranchPerson.previousElementSibling.scrollIntoView():\"\" );\n    /**\u8FD8\u662F\u90A3\u4E2A\u903B\u8F91\uFF1A\u5F53\u524D\u641C\u5230\u7684\u5143\u7D20\u88AB\u5C55\u793A\u3002\u90A3\u4E48\u5176\u4F59\u7684\u6CE8\u5B9A\u8981\u88AB\u56DE\u5F52\u539F\u4F4D**/\n    [].slice.call(_this.refs.personsum.querySelectorAll(\".ysp-atreport-dialog-person\")).filter((value,index)=>{\treturn index!==i}).forEach((v,i)=>{\n      v.querySelector(\".ysp-atreport-dialog-gs span.Dialog-file-Wj\").style.color = '#000';\n      v.querySelector(\".ysp-atreport-dialog-gs\").firstChild.setAttribute('class', 'active');\n    });\n  }\n  //textarea \u8F93\u5165\u6587\u672C\u7684\u65B9\u6CD5\n  textChange(e){\n    var target = e.target;\n    var flag = target.dataset.value;\n    var value = target.value;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        data:{\n          flag:flag,\n          value: value\n        },\n        eventType:'textChange'\n      })\n    }\n  }\n  //\u70B9\u51FB\u95EE\u9898\u53CA\u6240\u5C5E\u8D44\u6E90\n  spanClick(e){\n    var target = e.target;\n    var index = target.dataset.index;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        data: index,\n        eventType: 'spanClick'\n      })\n    }\n  }\n  chose(e){\n    var target = e.target;\n    var text = target.previousElementSibling.textContent;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        data: text,\n        eventType:'chose'\n      })\n    }\n  }\n  branchSelect(e){\n    var _this = this;\n    var index = e.currentTarget.dataset.index;\n    var value = e.target.value;\n    var oldNumber = '';\n    var toggleSwitch = function(e) {\n      while (true) {\n        if (e.nodeName != 'DIV') {\n          e = e.parentElement;\n        } else {\n \xA0 \xA0 \xA0 \xA0 \xA0if (e.getAttribute('dialog') == null) {\n             /**\u5224\u65AD\u5F53\u4E00\u4E2A\u65B0\u7684\u5217\u8868\u9879\u88AB\u70B9\u51FB\u5F00\u65F6\u90A3\u4E48\u5176\u4F59\u7684\u6240\u6709\u7684\u5217\u8868\u9879\u5C06\u88AB\u9690\u85CF\uFF0C\u5B57\u4F53\u989C\u8272\u4E5F\u5C06\u4F1A\u88AB\u53D8\u6210\u9ED1\u8272**/\n            [].slice.call(_this.refs.personsum.querySelectorAll('.ysp-atreport-dialog-person')).filter((v,i)=>{return i!==index}).forEach(\n            (value,index)=>{\n              value.querySelector('.ysp-atreport-dialog-gs').childNodes[0].setAttribute('class', 'active');\n              value.querySelector('.ysp-atreport-dialog-gs').childNodes[2].style.color = '#000';\n            });\n            oldNumber = _this.state.index;\n            var handler = _this.props.customHandler;\n            if (handler) {\n              handler({\n                data: {\n                  Index: index,\n                  OldNumber: oldNumber\n                },\n                eventType: 'branch'\n              })\n            }\n            e.setAttribute('dialog', 'true');\n            _this.setState({\n              index: index,\n              show: true,\n              dialog:e.getAttribute('dialog')\n            })\n            e.firstChild.setAttribute('class', 'unactive');\n            e.querySelector('span.Dialog-file-Wj').style.color = '#4789e0';\n            _this.refs.personsum.querySelector('.ysp-person-list').style.height = '100%'\n            break;\n          } else {\n            var handler = _this.props.customHandler;\n            if (handler) {\n              handler({\n                data: index,\n                eventType: 'cancel'\n              })\n            }\n            e.removeAttribute('dialog');\n            _this.setState({\n              show: false,\n              index: '',\n              dialog:e.getAttribute('dialog')\n            })\n            e.firstChild.setAttribute('class', 'active');\n            e.querySelector('span.Dialog-file-Wj').style.color = '#000';\n            _this.refs.personsum.querySelector('.ysp-person-list').style.height = '0px'\n            break;\n          }\n        }\n      }\n    }\n    toggleSwitch(e.target);\n  }\n  handlerAt = (e)=>{\n      var handler = this.props.customHandler,_this=this,data=_this.props.customData;\n      this.setState(\n        {open:!this.state.open} \n      );\n      if(handler){\n        handler({\n          eventType:\"at\"\n        });\n      }\n     setTimeout(function(){\n      _this.refs.personsum.ownerDocument.querySelector(\"div[data-ysp-modelid='workSummary']\").scrollTop=0;\n       //\u70B9\u51FB\u9009\u62E9\u5BF9\u8C61\u6309\u94AE\u4E4B\u540E\uFF0C\u9009\u62E9\u5BF9\u8C61\u5217\u8868\u9ED8\u8BA4\u6C38\u8FDC\u662F\u7B2C\u4E00\u4E2A\u5206\u516C\u53F8\u88AB\u5C55\u5F00\n       \n       var defaultItem  = _this.refs.personsum.querySelectorAll(\".ysp-atreport-dialog-person\")[_this.state.defaultIndex].querySelector(\".ysp-atreport-dialog-gs\");\n   if ( defaultItem ) {\n            /**\u5224\u65AD\u5F53\u4E00\u4E2A\u65B0\u7684\u5217\u8868\u9879\u88AB\u70B9\u51FB\u5F00\u65F6\u90A3\u4E48\u5176\u4F59\u7684\u6240\u6709\u7684\u5217\u8868\u9879\u5C06\u88AB\u9690\u85CF\uFF0C\u5B57\u4F53\u989C\u8272\u4E5F\u5C06\u4F1A\u88AB\u53D8\u6210\u9ED1\u8272**/\n            [].slice.call(_this.refs.personsum.querySelectorAll('.ysp-atreport-dialog-person')).filter((v,i)=>{return i!==_this.state.defaultIndex}).forEach(\n            (value,index)=>{\n              value.querySelector('.ysp-atreport-dialog-gs').childNodes[0].setAttribute('class', 'active');\n              value.querySelector('.ysp-atreport-dialog-gs').childNodes[2].style.color = '#000';\n            });\n\t\t\t\t\t\tdefaultItem.setAttribute('dialog', 'true');\n            _this.setState({\n              index: _this.state.defaultIndex,\n              show: true,\n              dialog:defaultItem.getAttribute('dialog')\n            })\n            defaultItem.firstChild.setAttribute('class', 'unactive');\n            defaultItem.querySelector('span.Dialog-file-Wj').style.color = '#4789e0';\n            _this.refs.personsum.querySelector('.ysp-person-list').style.height = '100%'\n\n   }\n\n            },1000)\n\n    }\n  personnelName = (e) => {\n    var index = e.currentTarget.dataset.index;\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({\n        data: {\n          Index: index,\n          parentIndex: this.state.index\n        },\n        eventType: 'personnel'\n      })\n    }\n  }\n  \n  //\u6284\u9001\u641C\u7D22\n  clickSearch = (e) => {\n    if(window.sessionStorage){\n       window.sessionStorage.setItem('sureFlag','');\n   \t}\n    var _this = this,oldNumber = +_this.state.index;\n    var data=_this.props.customData;\n    var handler = _this.props.customHandler;\n     if(handler){\n      handler({\n        data:{value:e.target.previousSibling.value},\n        eventType:'serch'\n      })\n    }\n    \n    setTimeout(function(){\n    \tvar data = _this.props.customData;\n      data.Dialog.forEach((branch,i)=>{\n          if((data.Dialog[i].branch[0][0]) == data.No){\n          //\u6253\u5F00\u641C\u7D22\u4E0B\u62C9\u5206\u516C\u53F8\n          //\u83B7\u53D6\u4E4B\u524D\u70B9\u51FB\u7684\u5206\u516C\u53F8\u7684\u5BF9\u5E94\u7684DOM\u7ED3\u6784\u7684dialog\u5C5E\u6027\u503C\n             var  sureFlag =   window.sessionStorage.getItem(\"sureFlag\");\n            lastBraDia = _this.refs.personsum.querySelectorAll(\".ysp-atreport-dialog-person\")[oldNumber].querySelector(\".ysp-atreport-dialog-gs\").getAttribute('dialog');\n            oldNumber = (oldNumber!=i && lastBraDia==\"true\" && sureFlag && sureFlag=='true') ? oldNumber:'old';\n        \tif(handler){\n            handler({\n              data:oldNumber,\n              eventType:'oldBranch'\n            })\n          }\n           var flag = _this.state.flag;\n              if(sureFlag && sureFlag=='true'){\n                  _this.setState({\n                  index: i,\n                  show: true,\n                  flag: true,\n                  No:data.No,\n                  dialog:\"true\"\n                });\n                 _this.commonClickSearch();\n             }\n          }\n      })\n  \t},4000)\n  }\n  //\u5224\u65AD\u66F4\u591A\u548C\u6536\u8D77\n  switch(e){\n    this.setState({\n      more: !this.state.more\n    })  \n  }\n\n\trender(){\n    var data = this.props.customData || [];\n    var content = this.props.customData && this.props.customData.content;\n    var flag = this.props.customData && this.props.customData.flag[0];\n  \treturn (\n    \t<div className='ysp-workSummary-style' ref=\"work\">\n        <div className='timeSearch'>\n          <div className='summary-type'>\n            <span>\u603B\u7ED3\u7C7B\u578B:</span>\n            <span>\n            \t<select selectedIndex='0'  onChange={this.handlerChange.bind(this)}>{this.renderOptions()}</select>\n            </span>\n          </div>\n          <div className='plan-time'>\n            <span>\u8BA1\u5212\u65F6\u95F4:</span>\n            <i></i>\n            <span display=\"display\" onClick={this.handlerClick.bind(this)} ref='date' >{data && data.date[0]}</span>\n            <i></i>\n          </div>\n        </div>\n        <div className=\"ysp-workSummary-text\">\n          <div>\n            <span>\u603B\u7ED3\u5185\u5BB9</span>\n          </div>\n          {\n            this.state.textSum !=\"\" ? \n           \t<div>\n              <ATextarea onBlur={this.textChange.bind(this)} data-value=\"\u603B\u7ED3\u5185\u5BB9\" value={this.state.textSum}></ATextarea>\n            </div>\n              :\n            <div>\n              <ATextarea value={this.state.textSum} onBlur={this.textChange.bind(this)} data-value=\"\u603B\u7ED3\u5185\u5BB9\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n            </div>\n          }\n        </div>\n        \n        {\n          this.state.huaweiFDFlag.length > 0 ? \n            <div className=\"ysp-workSummary-choseText\">\n              <div>\n                <span>\u534E\u4E3AFD\u4E1A\u52A1\u4E8B\u4E1A\u90E8</span>\n                <span onClick={this.chose.bind(this)}></span>\n              </div>\n              {\n                this.state.huaweiFDText !=\"\" ?\n                <div>\n                \t<ATextarea onBlur={this.textChange.bind(this)} data-value=\"huaweiFD\" value={this.state.huaweiFDText}></ATextarea>\n              \t</div>\n                  : \n                <div>\n                \t<ATextarea value={this.state.huaweiFDText} onBlur={this.textChange.bind(this)} data-value=\"huaweiFD\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n              \t</div>\n              }\n            </div>\n            :\n            <div></div>\n        }\n        {\n          this.state.huaweiPJFlag.length > 0 ? \n            <div className=\"ysp-workSummary-choseText\">\n              <div>\n                <span>\u878D\u5408\u53CA\u914D\u4EF6\u4E1A\u52A1\u4E8B\u4E1A\u90E8</span>\n                <span onClick={this.chose.bind(this)}></span>\n              </div>\n              {\n                this.state.huaweiPJText !=\"\" ?\n                <div>\n                \t<ATextarea onBlur={this.textChange.bind(this)} data-value=\"huaweiPJ\" value={this.state.huaweiPJText}></ATextarea>\n              \t</div>\n                  :\n                <div>\n                \t<ATextarea value={this.state.huaweiPJText} onBlur={this.textChange.bind(this)} data-value=\"huaweiPJ\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n              \t</div>\n              }\n              \n            </div>\n            :\n            <div></div>\n          }\n        {\n          this.state.huaweiStoreFlag && this.state.huaweiStoreFlag.length > 0 ? \n            <div className=\"ysp-workSummary-choseText\">\n              <div>\n                <span>\u534E\u4E3A\u4F53\u9A8C\u5E97\u4E1A\u52A1\u4E8B\u4E1A\u90E8</span>\n                <span onClick={this.chose.bind(this)}></span>\n              </div>\n              {\n                this.state.huaweiStoreText !=\"\" ?\n                <div>\n                \t<ATextarea onBlur={this.textChange.bind(this)} data-value=\"huaweiStore\" value={this.state.huaweiStoreText}></ATextarea>\n              \t</div>\n                  :\n                <div>\n                \t<ATextarea value={this.state.huaweiStoreText} onBlur={this.textChange.bind(this)} data-value=\"huaweiStore\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n              \t</div>\n              }\n              \n            </div>\n            :\n            <div></div>\n          }\n        {\n          this.state.huaweiSBFlag && this.state.huaweiSBFlag.length > 0 ? \n            <div className=\"ysp-workSummary-choseText\">\n              <div>\n                <span>\u534E\u4E3A\u7701\u5305</span>\n                <span onClick={this.chose.bind(this)}></span>\n              </div>\n              {\n                this.state.huaweiSBText &&this.state.huaweiSBText !=\"\" ? \n                <div>\n                \t<ATextarea onBlur={this.textChange.bind(this)} data-value=\"huaweiSB\" value={this.state.huaweiSBText}></ATextarea>\n              \t</div> \n                \t:\n                <div>\n                \t<ATextarea value={this.state.huaweiSBText} onBlur={this.textChange.bind(this)} data-value=\"huaweiSB\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n              \t</div>\n              }\n              \n            </div>\n            :\n            <div></div>\n          }\n        {\n          this.state.samsungFlag.length > 0 ? \n            <div className=\"ysp-workSummary-choseText\">\n              <div>\n                <span>\u4E09\u661F\u4E1A\u52A1\u4E8B\u4E1A\u90E8</span>\n                <span onClick={this.chose.bind(this)}></span>\n              </div>\n              {\n                this.state.samsungText !=\"\" ?\n                <div>\n                \t<ATextarea onBlur={this.textChange.bind(this)} data-value=\"samsung\" value={this.state.samsungText}></ATextarea>\n              \t</div>\n                  :\n                <div>\n                \t<ATextarea value={this.state.samsungText} onBlur={this.textChange.bind(this)} data-value=\"samsung\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n              \t</div>\n              }\n              \n            </div>\n            :\n            <div></div>\n          }\n        {\n          this.state.distributionFlag && this.state.distributionFlag.length > 0 ? \n            <div className=\"ysp-workSummary-choseText\">\n              <div>\n                <span>\u5927\u5BA2\u6237\u4E1A\u52A1\u90E8</span>\n                <span onClick={this.chose.bind(this)}></span>\n              </div>\n              {\n                this.state.distributionText !=\"\" ? \n                <div>\n                \t<ATextarea onBlur={this.textChange.bind(this)} data-value=\"distribution\" value={this.state.distributionText}></ATextarea>\n              \t</div>\n                  :\n                <div>\n                \t<ATextarea value={this.state.distributionText} onBlur={this.textChange.bind(this)} data-value=\"distribution\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n              \t</div>\n              }\n              \n            </div>\n            :\n            <div></div>\n          }\n        {\n           this.state.othersFlag && this.state.othersFlag.length > 0 ? \n            <div className=\"ysp-workSummary-choseText\">\n              <div>\n                <span>\u5176\u4ED6</span>\n                <span onClick={this.chose.bind(this)}></span>\n              </div>\n              {\n                this.state.othersText !=\"\" ?\n                <div>\n                <ATextarea onBlur={this.textChange.bind(this)} data-value=\"others\" value={this.state.othersText}></ATextarea>\n              \t</div>\n                  :\n                <div>\n                \t<ATextarea value={this.state.othersText} onBlur={this.textChange.bind(this)} data-value=\"others\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n              \t</div>\n              }\n              \n            </div>\n            :\n            <div></div>\n          }\n        \t<div className=\"ysp-workSummary-text\">\n            <div>\n              <span>\u91CD\u8981\u4E8B\u9879\u53CD\u9988</span>\n            </div>\n            {\n              this.state.problemValue[0] !=\"\" ?\n              <div>\n                <ATextarea onBlur={this.textChange.bind(this)} data-value=\"problem\" value={this.state.problemValue[0]}></ATextarea>\n              </div>\n                : \n              <div>\n                <ATextarea value={this.state.problemValue[0]} onBlur={this.textChange.bind(this)} data-value=\"problem\" placeholder=\"\u8BF7\u586B\u5199\u603B\u7ED3\u5185\u5BB9\"></ATextarea>\n              </div>\n            }\n          </div>\n        \n        <div>\n        \t{\n            content.length > 0 ? \n            <div>\n              {\n                  flag == \"false\" ?\n                    <div className=\"ysp-workSummary-lable\">\n                      {\n                       content.map((items, index)=>\n                          <span className={items[0] == \"true\" ? \"ysp-workSummary-uncheck ysp-workSummary-check\" : \"ysp-workSummary-uncheck\"} onClick={this.spanClick.bind(this)} data-index = {index}>\n                            {\n                             items[1] \n                            }\n                          </span>\n                        )   \n                      }\n                    </div>\n                    : \n                   <div>\n                  \t<div className = {this.state.more ? \"ysp-workSummary-lable-sq\" : \"ysp-workSummary-lable-gd\"}>\n                    {\n                     content.map((items, index)=>\n                        <span className={items[0] == \"true\" ? \"ysp-workSummary-uncheck ysp-workSummary-check\" : \"ysp-workSummary-uncheck\"} onClick={this.spanClick.bind(this)} data-index = {index}>\n                          {\n                           items[1] \n                          }\n                        </span>\n                      )          \n                    }\n                  \t</div>\n                    {\n                      this.state.more ? \n                        <div className=\"ysp-workSummary-sq\"><a href=\"#\" onClick={this.switch.bind(this)}>\u6536\u8D77</a></div>\n                        :\n                        <div className=\"ysp-workSummary-gd\"><a href=\"#\" onClick={this.switch.bind(this)}>\u66F4\u591A</a></div>\n                    }\n                   </div>\n                  \n                }  \n              \n            </div>\n            \t: \n            <div></div>\n          }\n        </div>\n        \n        \n        \n         <div className=\"ysp-atreport-picture images-report\">\n            <div className = 'upload'>\n              <div>\u4E0A\u4F20\u7167\u7247</div>\n              <div className='updata-image' onClick={(e)=>{\n       \t\t\t\t\t\tvar handler = this.props.customHandler;\n                  if(handler){\n                    handler({\n                      eventType:'imageClick'\n                    })\n                  }\n                }}><span>\u4E0A\u4F20\u7167\u7247</span></div>\n              <div ref ='Img' onClick={this.Dimg.bind(this)}>\n                {data.file.map((d,i)=>{\n                  return(\n                    <div className='file-images'>\n                      <div className='file-images-rows' data-index={i}>\n                        <img title={d.title} src={d.src}/>\n                        <i onClick={(e)=>{\n                           var handler = this.props.customHandler;\n                           if(handler){\n                             handler({\n                               data:e.target.parentElement.dataset.index,\n                               eventType:'delect'\n                             })\n                           }\n                         }}>\n                        </i>\n                     </div>\n                          <span>{d.content}</span>\n                   </div>\n                 )\n              })}\n                </div>\n            </div>\n            <div className=\"ysp-worksum\" id =\"focus\" ref=\"focus\">\n              <span>\u6C47\u62A5</span>\n              <span onClick={this.handlerAt.bind(this)}>\n                \u9009\u62E9\u5BF9\u8C61\n              </span>\n            </div>\n          \n            <div className='personnel'> \n              <div style={{display:\"none\"}}>\n                <div>@&nbsp;<span>\u9009\u62E9\u6C47\u62A5\u4EBA\u5458</span></div>\n                <div className='add' onClick={(e)=>{\n                  var handler = this.props.customHandler;\n                  if(handler){\n                    handler({\n                      eventType:'at'\n                    })\n                    this.setState({\n                      open: !this.state.open\n                    })\n                    // setTimeout(function(){\n                    //   _this.refs.personsum.ownerDocument.querySelector(\"div[data-ysp-modelid='wtiteReport']\").scrollTop=0\n                    // },500)\n\n                  }\n                }}>\n                </div>\n              </div>\n              <div>{data.user.users.map((u,i)=>{\n                  return (\n                    <div className='report report1'>\n                      <div data-index={i} val={data.user.val} val1={data.user.val1}><i className='personal-close' onClick={(e)=>{\n                            var handler = this.props.customHandler;\n                            if(handler){\n                              handler({\n                                data:e.target.parentElement.dataset.index,\n                                eventType:'icon-close'\n                              })\n                            }\n                          }}></i><span>{u}</span>\n                      </div>\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n            {\n              data.button == 3 ?\n                <div className='update-commit'>\n                  <button onClick={(e)=>{\n                      var handler =this.props.customHandler;\n                      var target = e.target;\n                      target.disabled = true;\n                      if(handler){\n                        handler({\n                          eventType:'save'\n                        })\n                      }\n                    }}>\u4FDD\u5B58\u8349\u7A3F</button>\n                  <button onClick={(e)=>{\n                      var handler =this.props.customHandler;\n                      var target = e.target;\n                      //target.disabled = true;\n                      if(handler){\n                        handler({\n                          eventType:'commitReport',\n                          data: data.user.users\n                        })\n                      }\n                    }}>\u63D0\u4EA4\u62A5\u544A</button>\n            \t</div>\n                :\n              data.button == 2 ? \n              <div className='update-commit'>\n                <button className=\"reportCommit\" onClick={(e)=>{\n                    var handler =this.props.customHandler;\n                    var target = e.target;\n                    //target.disabled = true;  \n                    if(handler){\n                      handler({\n                        eventType:'commitReport',\n                        data: data.user.users\n                      })\n                    }\n                  }}>\u63D0\u4EA4\u62A5\u544A</button>\n            \t</div>\n                : \n            \t<div></div>\n            }\n             \n        </div>\n        \n        \n        \n        {this.state.open && <Dialog>\n          \t<div className='surebtn-right-top'>\n            <CustomHeader \n             data={{centerText:\"\u6C47\u62A5\u5BF9\u8C61\",rightText:\"\u7B5B\u9009\"}} \n             backIsShow={true} \n             back={()=>{ \n                this.refs.focus.scrollIntoView();\n                var handler = this.props.customHandler;\n                if(handler){\n                  handler({\n                    eventType:'close'\n                  })\n                }\n                //_this.togglerSwitch();\n                this.setState({\n                  open: false\n                })\n                \n             }} \n             filterIsShow={false} \n             filter={()=>{console.info(\"header filter ...\")}}/>\n          \t <span onClick={(e)=>{\n                   e.target.ownerDocument.defaultView.location.href ='#focus';\n                  var handler = this.props.customHandler;\n                  if(handler){\n                    handler({\n                      eventType :\"close\"\n                    });\n                  }\n                  this.setState({open:false});\n                 \n                }}>\n               \u786E\u5B9A\n              </span>\n          </div>\n            <div className=\"ysp-atreport-dialog-gsperson\" style={{\"marginTop\":\"43px\"}}>\n              <div className=\"ysp-atreport-dialog-search\">\n                <CustomerSerch \n                  placeholder='\u641C\u7D22'\n                  click={this.clickSearch.bind(this)}\n                 \n                  buttonState ={true}\n            \t\t\twidth={true}\n                />\n              </div>\n          </div>\n          \n          <div className='Dialog-content' ref=\"personsum\">\n              {data.Dialog.map((branch,i)=>{\n                  return (\n                    <div className=\"ysp-atreport-dialog-person\">\n                        <div className=\"ysp-atreport-dialog-gs\" onClick={this.branchSelect.bind(this)} \n                        data-index ={i} dialog={+this.state.index === i && this.state.dialog}>\n                          <span className = 'active' ></span>\n                          <span className=\"ysp-atreport-dialog-gsfile\"></span>\n                          <span className='Dialog-file-Wj'>{data.Dialog[i].branch}</span>\n                   \t\t\t</div>\n                      {this.state.index == i && \n                        <div className=\"ysp-person-list\">{data.Dialog[i].personnel.map((item,k)=>{\n                        return (\n                          <div  onClick={this.personnelName.bind(this)} data-index={k}>\n                             {this.state.show && <div className='person-icon'>\n                            <i type='checkbox' className={data.Dialog[i].checked[k] ? 'icon-active' : 'icon-unactive'}></i>\n                            <i className={data.Dialog[i].checked[k] ? 'icon-selected' : 'icon-unselected'}></i>     \n                            <div>{item}</div>\n                          </div>}\n                        </div>\n                        )})}\n                      </div>}\n                    </div>\n                  )\n                })\n              }\n           \n              <div className='commit-dialog'>\n               {/**  ===\u53F3\u4E0B\u89D2\u786E\u5B9A\u9009\u4E2D\u4E2A\u6570\u7684\u786E\u5B9A\u6309\u94AE\u4E0D\u9700\u8981\u4E86\uFF0C\u6CE8\u91CA\u6389\n               <button onClick={(e)=>{\n                    var handler = this.props.customHandler;\n                    if(handler){\n                      handler({\n                        eventType:'selectCommit'\n                      })\n                    }\n                    if(data.commit && data.commit.number  && data.commit.number != ''){\n                      this.setState({\n                        open:false\n                      })\n                    }\n                  }}>\u786E\u5B9A{ data.commit && data.commit.number}</button>\n               **/}\n              </div>\n            </div>\n            \n          </Dialog>}\n      </div>\n    )\n  }\n}";
      return "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _yspCustomComponents = require('ysp-custom-components');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this2 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this2.Dimg = function (e) {\n      var _this = _this2;\n      _this.viewer = new Viewer(_this2.refs.Img);\n      _this.viewer.show();\n    };\n\n    _this2.handlerAt = function (e) {\n      var handler = _this2.props.customHandler,\n          _this = _this2,\n          data = _this.props.customData;\n      _this2.setState({ open: !_this2.state.open });\n      if (handler) {\n        handler({\n          eventType: \"at\"\n        });\n      }\n      setTimeout(function () {\n        _this.refs.personsum.ownerDocument.querySelector(\"div[data-ysp-modelid='workSummary']\").scrollTop = 0;\n        //\u70B9\u51FB\u9009\u62E9\u5BF9\u8C61\u6309\u94AE\u4E4B\u540E\uFF0C\u9009\u62E9\u5BF9\u8C61\u5217\u8868\u9ED8\u8BA4\u6C38\u8FDC\u662F\u7B2C\u4E00\u4E2A\u5206\u516C\u53F8\u88AB\u5C55\u5F00\n\n        var defaultItem = _this.refs.personsum.querySelectorAll(\".ysp-atreport-dialog-person\")[_this.state.defaultIndex].querySelector(\".ysp-atreport-dialog-gs\");\n        if (defaultItem) {\n          /**\u5224\u65AD\u5F53\u4E00\u4E2A\u65B0\u7684\u5217\u8868\u9879\u88AB\u70B9\u51FB\u5F00\u65F6\u90A3\u4E48\u5176\u4F59\u7684\u6240\u6709\u7684\u5217\u8868\u9879\u5C06\u88AB\u9690\u85CF\uFF0C\u5B57\u4F53\u989C\u8272\u4E5F\u5C06\u4F1A\u88AB\u53D8\u6210\u9ED1\u8272**/\n          [].slice.call(_this.refs.personsum.querySelectorAll('.ysp-atreport-dialog-person')).filter(function (v, i) {\n            return i !== _this.state.defaultIndex;\n          }).forEach(function (value, index) {\n            value.querySelector('.ysp-atreport-dialog-gs').childNodes[0].setAttribute('class', 'active');\n            value.querySelector('.ysp-atreport-dialog-gs').childNodes[2].style.color = '#000';\n          });\n          defaultItem.setAttribute('dialog', 'true');\n          _this.setState({\n            index: _this.state.defaultIndex,\n            show: true,\n            dialog: defaultItem.getAttribute('dialog')\n          });\n          defaultItem.firstChild.setAttribute('class', 'unactive');\n          defaultItem.querySelector('span.Dialog-file-Wj').style.color = '#4789e0';\n          _this.refs.personsum.querySelector('.ysp-person-list').style.height = '100%';\n        }\n      }, 1000);\n    };\n\n    _this2.personnelName = function (e) {\n      var index = e.currentTarget.dataset.index;\n      var handler = _this2.props.customHandler;\n      if (handler) {\n        handler({\n          data: {\n            Index: index,\n            parentIndex: _this2.state.index\n          },\n          eventType: 'personnel'\n        });\n      }\n    };\n\n    _this2.clickSearch = function (e) {\n      if (window.sessionStorage) {\n        window.sessionStorage.setItem('sureFlag', '');\n      }\n      var _this = _this2,\n          oldNumber = +_this.state.index;\n      var data = _this.props.customData;\n      var handler = _this.props.customHandler;\n      if (handler) {\n        handler({\n          data: { value: e.target.previousSibling.value },\n          eventType: 'serch'\n        });\n      }\n\n      setTimeout(function () {\n        var data = _this.props.customData;\n        data.Dialog.forEach(function (branch, i) {\n          if (data.Dialog[i].branch[0][0] == data.No) {\n            //\u6253\u5F00\u641C\u7D22\u4E0B\u62C9\u5206\u516C\u53F8\n            //\u83B7\u53D6\u4E4B\u524D\u70B9\u51FB\u7684\u5206\u516C\u53F8\u7684\u5BF9\u5E94\u7684DOM\u7ED3\u6784\u7684dialog\u5C5E\u6027\u503C\n            var sureFlag = window.sessionStorage.getItem(\"sureFlag\");\n            lastBraDia = _this.refs.personsum.querySelectorAll(\".ysp-atreport-dialog-person\")[oldNumber].querySelector(\".ysp-atreport-dialog-gs\").getAttribute('dialog');\n            oldNumber = oldNumber != i && lastBraDia == \"true\" && sureFlag && sureFlag == 'true' ? oldNumber : 'old';\n            if (handler) {\n              handler({\n                data: oldNumber,\n                eventType: 'oldBranch'\n              });\n            }\n            var flag = _this.state.flag;\n            if (sureFlag && sureFlag == 'true') {\n              _this.setState({\n                index: i,\n                show: true,\n                flag: true,\n                No: data.No,\n                dialog: \"true\"\n              });\n              _this.commonClickSearch();\n            }\n          }\n        });\n      }, 4000);\n    };\n\n    _this2.state = {\n      open: false,\n      flag: false,\n      more: false,\n      show: false,\n      index: '',\n      defaultIndex: 0,\n      textSum: props.data.customData && props.data.customData.textSum,\n      problemValue: props.data.customData && props.data.customData.problemValue,\n      huaweiFDFlag: props.data.customData && props.data.customData.huaweiFD && props.data.customData.huaweiFD.huaweiFDFlag,\n      huaweiFDText: props.data.customData && props.data.customData.huaweiFD && props.data.customData.huaweiFD.huaweiFDText,\n      huaweiPJFlag: props.data.customData && props.data.customData.huaweiPJ && props.data.customData.huaweiPJ.huaweiPJFlag,\n      huaweiPJText: props.data.customData && props.data.customData.huaweiPJ && props.data.customData.huaweiPJ.huaweiPJText,\n      huaweiStoreFlag: props.data.customData && props.data.customData.huaweiStore && props.data.customData.huaweiStore.huaweiStoreFlag,\n      huaweiStoreText: props.data.customData && props.data.customData.huaweiStore && props.data.customData.huaweiStore.huaweiStoreText,\n      /***\n      huaweiSBFlag: props.data.customData && props.data.customData.huaweiSB && props.data.customData.huaweiSB.huaweiSBFlag,\n      huaweiSBText: props.data.customData && props.data.customData.huaweiSB && props.data.customData.huaweiSB.huaweiSBText,\n      ***/\n      samsungFlag: props.data.customData && props.data.customData.samsung && props.data.customData.samsung.samsungFlag,\n      samsungText: props.data.customData && props.data.customData.samsung && props.data.customData.samsung.samsungText,\n      distributionFlag: props.data.customData && props.data.customData.distribution && props.data.customData.distribution.distributionFlag,\n      distributionText: props.data.customData && props.data.customData.distribution && props.data.customData.distribution.distributionText,\n      othersFlag: props.data.customData && props.data.customData.others && props.data.customData.others.othersFlag,\n      othersText: props.data.customData && props.data.customData.others && props.data.customData.others.othersText\n\n    };\n    return _this2;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidMount',\n    value: function componentDidMount(e) {\n      var outer = this.refs.work.ownerDocument.querySelector('.view-wrapper');\n      setTimeout(function () {\n        outer.scrollTop = 0;\n      }, 500);\n      this.viewer = new Viewer(this.refs.Img);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this = this;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        textSum: nextProps.customData && nextProps.customData.textSum,\n        problemValue: nextProps.customData && nextProps.customData.problemValue,\n        huaweiFDFlag: nextProps.customData && nextProps.customData.huaweiFD && nextProps.customData.huaweiFD.huaweiFDFlag,\n        huaweiFDText: nextProps.customData && nextProps.customData.huaweiFD && nextProps.customData.huaweiFD.huaweiFDText,\n        huaweiPJFlag: nextProps.customData && nextProps.customData.huaweiPJ && nextProps.customData.huaweiPJ.huaweiPJFlag,\n        huaweiPJText: nextProps.customData && nextProps.customData.huaweiPJ && nextProps.customData.huaweiPJ.huaweiPJText,\n        huaweiStoreFlag: nextProps.customData && nextProps.customData.huaweiStore && nextProps.customData.huaweiStore.huaweiStoreFlag,\n        huaweiStoreText: nextProps.customData && nextProps.customData.huaweiStore && nextProps.customData.huaweiStore.huaweiStoreText,\n        /***\n          huaweiSBFlag: nextProps.customData && nextProps.customData.huaweiSB && nextProps.customData.huaweiSB.huaweiSBFlag,\n          huaweiSBText: nextProps.customData && nextProps.customData.huaweiSB && nextProps.customData.huaweiSB.huaweiSBText,\n          ***/\n        samsungFlag: nextProps.customData && nextProps.customData.samsung && nextProps.customData.samsung.samsungFlag,\n        samsungText: nextProps.customData && nextProps.customData.samsung && nextProps.customData.samsung.samsungText,\n        distributionFlag: nextProps.customData && nextProps.customData.distribution && nextProps.customData.distribution.distributionFlag,\n        distributionText: nextProps.customData && nextProps.customData.distribution && nextProps.customData.distribution.distributionText,\n        othersFlag: nextProps.customData && nextProps.customData.others && nextProps.customData.others.othersFlag,\n        othersText: nextProps.customData && nextProps.customData.others && nextProps.customData.others.othersText\n      });\n    }\n  }, {\n    key: 'renderOptions',\n    value: function renderOptions() {\n      var data = this.props.customData && this.props.customData.select;\n      return data.map(function (item, index) {\n        return React.createElement(\n          'option',\n          { value: index },\n          item\n        );\n      });\n    }\n  }, {\n    key: 'handlerChange',\n    value: function handlerChange(e) {\n      var value = e.target.selectedIndex;\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: {\n            value: value\n          },\n          eventType: 'change'\n        });\n      }\n    }\n\n    //\u65F6\u95F4\u6309\u94AE\u65B9\u6CD5\n\n  }, {\n    key: 'handlerClick',\n    value: function handlerClick(e) {\n      var evt = new Event('ysp-workTime-show');\n      window.dispatchEvent(evt);\n    }\n  }, {\n    key: 'commonClickSearch',\n    value: function commonClickSearch() {\n      var _this = this,\n          data = _this.props.customData,\n          i = _this.state.index;\n      _this.refs.personsum.scrollTop = i * 45;\n      var currentBranchPerson = _this.refs.personsum.querySelectorAll(\".ysp-atreport-dialog-person\")[i];\n      currentBranchPerson.querySelector(\".ysp-atreport-dialog-gs\").setAttribute('dialog', 'true');\n      currentBranchPerson.querySelector(\".ysp-atreport-dialog-gs span.Dialog-file-Wj\").style.color = '#4789e0';\n      currentBranchPerson.querySelector(\".ysp-atreport-dialog-gs\").firstChild.setAttribute('class', 'unactive');\n      /***\u901A\u8FC7\u5FEB\u901F\u5B9A\u4F4D\u4F7F\u5F97\u5F53\u524D\u88AB\u641C\u7D22\u5230\u7684\u5206\u516C\u53F8\u7684\u67D0\u4E00\u4E2A\u4EBA\u88AB\u663E\u793A\u5728\u5F53\u524D*/\n      +data.personIndex >= 1 ? currentBranchPerson.querySelectorAll('.ysp-person-list>div')[+data.personIndex - 1].scrollIntoView() : currentBranchPerson.previousElementSibling ? currentBranchPerson.previousElementSibling.scrollIntoView() : \"\";\n      /**\u8FD8\u662F\u90A3\u4E2A\u903B\u8F91\uFF1A\u5F53\u524D\u641C\u5230\u7684\u5143\u7D20\u88AB\u5C55\u793A\u3002\u90A3\u4E48\u5176\u4F59\u7684\u6CE8\u5B9A\u8981\u88AB\u56DE\u5F52\u539F\u4F4D**/\n      [].slice.call(_this.refs.personsum.querySelectorAll(\".ysp-atreport-dialog-person\")).filter(function (value, index) {\n        return index !== i;\n      }).forEach(function (v, i) {\n        v.querySelector(\".ysp-atreport-dialog-gs span.Dialog-file-Wj\").style.color = '#000';\n        v.querySelector(\".ysp-atreport-dialog-gs\").firstChild.setAttribute('class', 'active');\n      });\n    }\n    //textarea \u8F93\u5165\u6587\u672C\u7684\u65B9\u6CD5\n\n  }, {\n    key: 'textChange',\n    value: function textChange(e) {\n      var target = e.target;\n      var flag = target.dataset.value;\n      var value = target.value;\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: {\n            flag: flag,\n            value: value\n          },\n          eventType: 'textChange'\n        });\n      }\n    }\n    //\u70B9\u51FB\u95EE\u9898\u53CA\u6240\u5C5E\u8D44\u6E90\n\n  }, {\n    key: 'spanClick',\n    value: function spanClick(e) {\n      var target = e.target;\n      var index = target.dataset.index;\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: index,\n          eventType: 'spanClick'\n        });\n      }\n    }\n  }, {\n    key: 'chose',\n    value: function chose(e) {\n      var target = e.target;\n      var text = target.previousElementSibling.textContent;\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: text,\n          eventType: 'chose'\n        });\n      }\n    }\n  }, {\n    key: 'branchSelect',\n    value: function branchSelect(e) {\n      var _this = this;\n      var index = e.currentTarget.dataset.index;\n      var value = e.target.value;\n      var oldNumber = '';\n      var toggleSwitch = function toggleSwitch(e) {\n        while (true) {\n          if (e.nodeName != 'DIV') {\n            e = e.parentElement;\n          } else {\n            if (e.getAttribute('dialog') == null) {\n              /**\u5224\u65AD\u5F53\u4E00\u4E2A\u65B0\u7684\u5217\u8868\u9879\u88AB\u70B9\u51FB\u5F00\u65F6\u90A3\u4E48\u5176\u4F59\u7684\u6240\u6709\u7684\u5217\u8868\u9879\u5C06\u88AB\u9690\u85CF\uFF0C\u5B57\u4F53\u989C\u8272\u4E5F\u5C06\u4F1A\u88AB\u53D8\u6210\u9ED1\u8272**/\n              [].slice.call(_this.refs.personsum.querySelectorAll('.ysp-atreport-dialog-person')).filter(function (v, i) {\n                return i !== index;\n              }).forEach(function (value, index) {\n                value.querySelector('.ysp-atreport-dialog-gs').childNodes[0].setAttribute('class', 'active');\n                value.querySelector('.ysp-atreport-dialog-gs').childNodes[2].style.color = '#000';\n              });\n              oldNumber = _this.state.index;\n              var handler = _this.props.customHandler;\n              if (handler) {\n                handler({\n                  data: {\n                    Index: index,\n                    OldNumber: oldNumber\n                  },\n                  eventType: 'branch'\n                });\n              }\n              e.setAttribute('dialog', 'true');\n              _this.setState({\n                index: index,\n                show: true,\n                dialog: e.getAttribute('dialog')\n              });\n              e.firstChild.setAttribute('class', 'unactive');\n              e.querySelector('span.Dialog-file-Wj').style.color = '#4789e0';\n              _this.refs.personsum.querySelector('.ysp-person-list').style.height = '100%';\n              break;\n            } else {\n              var handler = _this.props.customHandler;\n              if (handler) {\n                handler({\n                  data: index,\n                  eventType: 'cancel'\n                });\n              }\n              e.removeAttribute('dialog');\n              _this.setState({\n                show: false,\n                index: '',\n                dialog: e.getAttribute('dialog')\n              });\n              e.firstChild.setAttribute('class', 'active');\n              e.querySelector('span.Dialog-file-Wj').style.color = '#000';\n              _this.refs.personsum.querySelector('.ysp-person-list').style.height = '0px';\n              break;\n            }\n          }\n        }\n      };\n      toggleSwitch(e.target);\n    }\n\n    //\u6284\u9001\u641C\u7D22\n\n  }, {\n    key: 'switch',\n\n    //\u5224\u65AD\u66F4\u591A\u548C\u6536\u8D77\n    value: function _switch(e) {\n      this.setState({\n        more: !this.state.more\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var data = this.props.customData || [];\n      var content = this.props.customData && this.props.customData.content;\n      var flag = this.props.customData && this.props.customData.flag[0];\n      return React.createElement(\n        'div',\n        { className: 'ysp-workSummary-style', ref: 'work' },\n        React.createElement(\n          'div',\n          { className: 'timeSearch' },\n          React.createElement(\n            'div',\n            { className: 'summary-type' },\n            React.createElement(\n              'span',\n              null,\n              '\\u603B\\u7ED3\\u7C7B\\u578B:'\n            ),\n            React.createElement(\n              'span',\n              null,\n              React.createElement(\n                'select',\n                { selectedIndex: '0', onChange: this.handlerChange.bind(this) },\n                this.renderOptions()\n              )\n            )\n          ),\n          React.createElement(\n            'div',\n            { className: 'plan-time' },\n            React.createElement(\n              'span',\n              null,\n              '\\u8BA1\\u5212\\u65F6\\u95F4:'\n            ),\n            React.createElement('i', null),\n            React.createElement(\n              'span',\n              { display: 'display', onClick: this.handlerClick.bind(this), ref: 'date' },\n              data && data.date[0]\n            ),\n            React.createElement('i', null)\n          )\n        ),\n        React.createElement(\n          'div',\n          { className: 'ysp-workSummary-text' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u603B\\u7ED3\\u5185\\u5BB9'\n            )\n          ),\n          this.state.textSum != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': '\\u603B\\u7ED3\\u5185\\u5BB9', value: this.state.textSum })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.textSum, onBlur: this.textChange.bind(this), 'data-value': '\\u603B\\u7ED3\\u5185\\u5BB9', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ),\n        this.state.huaweiFDFlag.length > 0 ? React.createElement(\n          'div',\n          { className: 'ysp-workSummary-choseText' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u534E\\u4E3AFD\\u4E1A\\u52A1\\u4E8B\\u4E1A\\u90E8'\n            ),\n            React.createElement('span', { onClick: this.chose.bind(this) })\n          ),\n          this.state.huaweiFDText != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': 'huaweiFD', value: this.state.huaweiFDText })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.huaweiFDText, onBlur: this.textChange.bind(this), 'data-value': 'huaweiFD', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ) : React.createElement('div', null),\n        this.state.huaweiPJFlag.length > 0 ? React.createElement(\n          'div',\n          { className: 'ysp-workSummary-choseText' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u878D\\u5408\\u53CA\\u914D\\u4EF6\\u4E1A\\u52A1\\u4E8B\\u4E1A\\u90E8'\n            ),\n            React.createElement('span', { onClick: this.chose.bind(this) })\n          ),\n          this.state.huaweiPJText != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': 'huaweiPJ', value: this.state.huaweiPJText })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.huaweiPJText, onBlur: this.textChange.bind(this), 'data-value': 'huaweiPJ', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ) : React.createElement('div', null),\n        this.state.huaweiStoreFlag && this.state.huaweiStoreFlag.length > 0 ? React.createElement(\n          'div',\n          { className: 'ysp-workSummary-choseText' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u534E\\u4E3A\\u4F53\\u9A8C\\u5E97\\u4E1A\\u52A1\\u4E8B\\u4E1A\\u90E8'\n            ),\n            React.createElement('span', { onClick: this.chose.bind(this) })\n          ),\n          this.state.huaweiStoreText != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': 'huaweiStore', value: this.state.huaweiStoreText })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.huaweiStoreText, onBlur: this.textChange.bind(this), 'data-value': 'huaweiStore', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ) : React.createElement('div', null),\n        this.state.huaweiSBFlag && this.state.huaweiSBFlag.length > 0 ? React.createElement(\n          'div',\n          { className: 'ysp-workSummary-choseText' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u534E\\u4E3A\\u7701\\u5305'\n            ),\n            React.createElement('span', { onClick: this.chose.bind(this) })\n          ),\n          this.state.huaweiSBText && this.state.huaweiSBText != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': 'huaweiSB', value: this.state.huaweiSBText })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.huaweiSBText, onBlur: this.textChange.bind(this), 'data-value': 'huaweiSB', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ) : React.createElement('div', null),\n        this.state.samsungFlag.length > 0 ? React.createElement(\n          'div',\n          { className: 'ysp-workSummary-choseText' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u4E09\\u661F\\u4E1A\\u52A1\\u4E8B\\u4E1A\\u90E8'\n            ),\n            React.createElement('span', { onClick: this.chose.bind(this) })\n          ),\n          this.state.samsungText != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': 'samsung', value: this.state.samsungText })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.samsungText, onBlur: this.textChange.bind(this), 'data-value': 'samsung', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ) : React.createElement('div', null),\n        this.state.distributionFlag && this.state.distributionFlag.length > 0 ? React.createElement(\n          'div',\n          { className: 'ysp-workSummary-choseText' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u5927\\u5BA2\\u6237\\u4E1A\\u52A1\\u90E8'\n            ),\n            React.createElement('span', { onClick: this.chose.bind(this) })\n          ),\n          this.state.distributionText != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': 'distribution', value: this.state.distributionText })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.distributionText, onBlur: this.textChange.bind(this), 'data-value': 'distribution', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ) : React.createElement('div', null),\n        this.state.othersFlag && this.state.othersFlag.length > 0 ? React.createElement(\n          'div',\n          { className: 'ysp-workSummary-choseText' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u5176\\u4ED6'\n            ),\n            React.createElement('span', { onClick: this.chose.bind(this) })\n          ),\n          this.state.othersText != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': 'others', value: this.state.othersText })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.othersText, onBlur: this.textChange.bind(this), 'data-value': 'others', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ) : React.createElement('div', null),\n        React.createElement(\n          'div',\n          { className: 'ysp-workSummary-text' },\n          React.createElement(\n            'div',\n            null,\n            React.createElement(\n              'span',\n              null,\n              '\\u91CD\\u8981\\u4E8B\\u9879\\u53CD\\u9988'\n            )\n          ),\n          this.state.problemValue[0] != \"\" ? React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { onBlur: this.textChange.bind(this), 'data-value': 'problem', value: this.state.problemValue[0] })\n          ) : React.createElement(\n            'div',\n            null,\n            React.createElement(ATextarea, { value: this.state.problemValue[0], onBlur: this.textChange.bind(this), 'data-value': 'problem', placeholder: '\\u8BF7\\u586B\\u5199\\u603B\\u7ED3\\u5185\\u5BB9' })\n          )\n        ),\n        React.createElement(\n          'div',\n          null,\n          content.length > 0 ? React.createElement(\n            'div',\n            null,\n            flag == \"false\" ? React.createElement(\n              'div',\n              { className: 'ysp-workSummary-lable' },\n              content.map(function (items, index) {\n                return React.createElement(\n                  'span',\n                  { className: items[0] == \"true\" ? \"ysp-workSummary-uncheck ysp-workSummary-check\" : \"ysp-workSummary-uncheck\", onClick: _this3.spanClick.bind(_this3), 'data-index': index },\n                  items[1]\n                );\n              })\n            ) : React.createElement(\n              'div',\n              null,\n              React.createElement(\n                'div',\n                { className: this.state.more ? \"ysp-workSummary-lable-sq\" : \"ysp-workSummary-lable-gd\" },\n                content.map(function (items, index) {\n                  return React.createElement(\n                    'span',\n                    { className: items[0] == \"true\" ? \"ysp-workSummary-uncheck ysp-workSummary-check\" : \"ysp-workSummary-uncheck\", onClick: _this3.spanClick.bind(_this3), 'data-index': index },\n                    items[1]\n                  );\n                })\n              ),\n              this.state.more ? React.createElement(\n                'div',\n                { className: 'ysp-workSummary-sq' },\n                React.createElement(\n                  'a',\n                  { href: '#', onClick: this.switch.bind(this) },\n                  '\\u6536\\u8D77'\n                )\n              ) : React.createElement(\n                'div',\n                { className: 'ysp-workSummary-gd' },\n                React.createElement(\n                  'a',\n                  { href: '#', onClick: this.switch.bind(this) },\n                  '\\u66F4\\u591A'\n                )\n              )\n            )\n          ) : React.createElement('div', null)\n        ),\n        React.createElement(\n          'div',\n          { className: 'ysp-atreport-picture images-report' },\n          React.createElement(\n            'div',\n            { className: 'upload' },\n            React.createElement(\n              'div',\n              null,\n              '\\u4E0A\\u4F20\\u7167\\u7247'\n            ),\n            React.createElement(\n              'div',\n              { className: 'updata-image', onClick: function onClick(e) {\n                  var handler = _this3.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: 'imageClick'\n                    });\n                  }\n                } },\n              React.createElement(\n                'span',\n                null,\n                '\\u4E0A\\u4F20\\u7167\\u7247'\n              )\n            ),\n            React.createElement(\n              'div',\n              { ref: 'Img', onClick: this.Dimg.bind(this) },\n              data.file.map(function (d, i) {\n                return React.createElement(\n                  'div',\n                  { className: 'file-images' },\n                  React.createElement(\n                    'div',\n                    { className: 'file-images-rows', 'data-index': i },\n                    React.createElement('img', { title: d.title, src: d.src }),\n                    React.createElement('i', { onClick: function onClick(e) {\n                        var handler = _this3.props.customHandler;\n                        if (handler) {\n                          handler({\n                            data: e.target.parentElement.dataset.index,\n                            eventType: 'delect'\n                          });\n                        }\n                      } })\n                  ),\n                  React.createElement(\n                    'span',\n                    null,\n                    d.content\n                  )\n                );\n              })\n            )\n          ),\n          React.createElement(\n            'div',\n            { className: 'ysp-worksum', id: 'focus', ref: 'focus' },\n            React.createElement(\n              'span',\n              null,\n              '\\u6C47\\u62A5'\n            ),\n            React.createElement(\n              'span',\n              { onClick: this.handlerAt.bind(this) },\n              '\\u9009\\u62E9\\u5BF9\\u8C61'\n            )\n          ),\n          React.createElement(\n            'div',\n            { className: 'personnel' },\n            React.createElement(\n              'div',\n              { style: { display: \"none\" } },\n              React.createElement(\n                'div',\n                null,\n                '@\\xA0',\n                React.createElement(\n                  'span',\n                  null,\n                  '\\u9009\\u62E9\\u6C47\\u62A5\\u4EBA\\u5458'\n                )\n              ),\n              React.createElement('div', { className: 'add', onClick: function onClick(e) {\n                  var handler = _this3.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: 'at'\n                    });\n                    _this3.setState({\n                      open: !_this3.state.open\n                    });\n                    // setTimeout(function(){\n                    //   _this.refs.personsum.ownerDocument.querySelector(\"div[data-ysp-modelid='wtiteReport']\").scrollTop=0\n                    // },500)\n                  }\n                } })\n            ),\n            React.createElement(\n              'div',\n              null,\n              data.user.users.map(function (u, i) {\n                return React.createElement(\n                  'div',\n                  { className: 'report report1' },\n                  React.createElement(\n                    'div',\n                    { 'data-index': i, val: data.user.val, val1: data.user.val1 },\n                    React.createElement('i', { className: 'personal-close', onClick: function onClick(e) {\n                        var handler = _this3.props.customHandler;\n                        if (handler) {\n                          handler({\n                            data: e.target.parentElement.dataset.index,\n                            eventType: 'icon-close'\n                          });\n                        }\n                      } }),\n                    React.createElement(\n                      'span',\n                      null,\n                      u\n                    )\n                  )\n                );\n              })\n            )\n          ),\n          data.button == 3 ? React.createElement(\n            'div',\n            { className: 'update-commit' },\n            React.createElement(\n              'button',\n              { onClick: function onClick(e) {\n                  var handler = _this3.props.customHandler;\n                  var target = e.target;\n                  target.disabled = true;\n                  if (handler) {\n                    handler({\n                      eventType: 'save'\n                    });\n                  }\n                } },\n              '\\u4FDD\\u5B58\\u8349\\u7A3F'\n            ),\n            React.createElement(\n              'button',\n              { onClick: function onClick(e) {\n                  var handler = _this3.props.customHandler;\n                  var target = e.target;\n                  //target.disabled = true;\n                  if (handler) {\n                    handler({\n                      eventType: 'commitReport',\n                      data: data.user.users\n                    });\n                  }\n                } },\n              '\\u63D0\\u4EA4\\u62A5\\u544A'\n            )\n          ) : data.button == 2 ? React.createElement(\n            'div',\n            { className: 'update-commit' },\n            React.createElement(\n              'button',\n              { className: 'reportCommit', onClick: function onClick(e) {\n                  var handler = _this3.props.customHandler;\n                  var target = e.target;\n                  //target.disabled = true;  \n                  if (handler) {\n                    handler({\n                      eventType: 'commitReport',\n                      data: data.user.users\n                    });\n                  }\n                } },\n              '\\u63D0\\u4EA4\\u62A5\\u544A'\n            )\n          ) : React.createElement('div', null)\n        ),\n        this.state.open && React.createElement(\n          _yspCustomComponents.Dialog,\n          null,\n          React.createElement(\n            'div',\n            { className: 'surebtn-right-top' },\n            React.createElement(_yspCustomComponents.CustomHeader, {\n              data: { centerText: \"\u6C47\u62A5\u5BF9\u8C61\", rightText: \"\u7B5B\u9009\" },\n              backIsShow: true,\n              back: function back() {\n                _this3.refs.focus.scrollIntoView();\n                var handler = _this3.props.customHandler;\n                if (handler) {\n                  handler({\n                    eventType: 'close'\n                  });\n                }\n                //_this.togglerSwitch();\n                _this3.setState({\n                  open: false\n                });\n              },\n              filterIsShow: false,\n              filter: function filter() {\n                console.info(\"header filter ...\");\n              } }),\n            React.createElement(\n              'span',\n              { onClick: function onClick(e) {\n                  e.target.ownerDocument.defaultView.location.href = '#focus';\n                  var handler = _this3.props.customHandler;\n                  if (handler) {\n                    handler({\n                      eventType: \"close\"\n                    });\n                  }\n                  _this3.setState({ open: false });\n                } },\n              '\\u786E\\u5B9A'\n            )\n          ),\n          React.createElement(\n            'div',\n            { className: 'ysp-atreport-dialog-gsperson', style: { \"marginTop\": \"43px\" } },\n            React.createElement(\n              'div',\n              { className: 'ysp-atreport-dialog-search' },\n              React.createElement(_yspCustomComponents.CustomerSerch, {\n                placeholder: '\\u641C\\u7D22',\n                click: this.clickSearch.bind(this),\n\n                buttonState: true,\n                width: true\n              })\n            )\n          ),\n          React.createElement(\n            'div',\n            { className: 'Dialog-content', ref: 'personsum' },\n            data.Dialog.map(function (branch, i) {\n              return React.createElement(\n                'div',\n                { className: 'ysp-atreport-dialog-person' },\n                React.createElement(\n                  'div',\n                  { className: 'ysp-atreport-dialog-gs', onClick: _this3.branchSelect.bind(_this3),\n                    'data-index': i, dialog: +_this3.state.index === i && _this3.state.dialog },\n                  React.createElement('span', { className: 'active' }),\n                  React.createElement('span', { className: 'ysp-atreport-dialog-gsfile' }),\n                  React.createElement(\n                    'span',\n                    { className: 'Dialog-file-Wj' },\n                    data.Dialog[i].branch\n                  )\n                ),\n                _this3.state.index == i && React.createElement(\n                  'div',\n                  { className: 'ysp-person-list' },\n                  data.Dialog[i].personnel.map(function (item, k) {\n                    return React.createElement(\n                      'div',\n                      { onClick: _this3.personnelName.bind(_this3), 'data-index': k },\n                      _this3.state.show && React.createElement(\n                        'div',\n                        { className: 'person-icon' },\n                        React.createElement('i', { type: 'checkbox', className: data.Dialog[i].checked[k] ? 'icon-active' : 'icon-unactive' }),\n                        React.createElement('i', { className: data.Dialog[i].checked[k] ? 'icon-selected' : 'icon-unselected' }),\n                        React.createElement(\n                          'div',\n                          null,\n                          item\n                        )\n                      )\n                    );\n                  })\n                )\n              );\n            }),\n            React.createElement('div', { className: 'commit-dialog' })\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(React.Component);\n\nexports.default = _class;";
    },
    getData_control57_GbJSEi: function (elem) {
      var data = {};if (ysp.customHelper.tipMsg.getMsg()) {
        data.postMessage = ysp.customHelper.tipMsg.getMsg();
      } else {
        data.postMessage = "";
      }if (ysp.customHelper.tipMsg.cancelText()) {
        data.cancel = ysp.customHelper.tipMsg.cancelText();
      } else {
        data.cancel = "";
      }return data;
    },
    doAction_uiControl56_2odMIT: function (data, elem) {
      if (data.eventType == "confirmClick") {
        ysp.customHelper.tipMsg.confirm();
      }if (data.eventType == "cancelClick") {
        ysp.customHelper.tipMsg.cancel();
      }
    },
    getTemplate_uiControl56_2odMIT: function () {
      var selfTemplate = "import {\n  Component\n} from 'react';\nimport {\n\tAlert\n} from 'ysp-custom-components';\nexport default class extends Component {\n  render(){\n    var dataMessage = (this.props.customData && this.props.customData.postMessage) || \"\";\n    var dataCancel = (this.props.customData && this.props.customData.cancel) || \"\";\n     return(\n    \t<div>\n        {dataMessage ==\"\" ? \"\" : \n          <Alert\n            content={dataMessage}\n            cancelText={dataCancel}\n            dismiss={\n              (e)=>{\n                var handler=this.props.customHandler;\n                if(handler){\n                  handler({\n                    eventType:\"confirmClick\"\n                  })\n                }\n              }\n            }\n            cancel={\n             (e)=>{\n                var handler=this.props.customHandler;\n                if(handler){\n                  handler({\n                    eventType:\"cancelClick\"\n                  })\n                }\n              }\n           }\n          />\n        }\n      </div>\n    )\n  }\n}\n";
      return "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _yspCustomComponents = require('ysp-custom-components');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_Component) {\n  _inherits(_class, _Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var dataMessage = this.props.customData && this.props.customData.postMessage || \"\";\n      var dataCancel = this.props.customData && this.props.customData.cancel || \"\";\n      return React.createElement(\n        'div',\n        null,\n        dataMessage == \"\" ? \"\" : React.createElement(_yspCustomComponents.Alert, {\n          content: dataMessage,\n          cancelText: dataCancel,\n          dismiss: function dismiss(e) {\n            var handler = _this2.props.customHandler;\n            if (handler) {\n              handler({\n                eventType: \"confirmClick\"\n              });\n            }\n          },\n          cancel: function cancel(e) {\n            var handler = _this2.props.customHandler;\n            if (handler) {\n              handler({\n                eventType: \"cancelClick\"\n              });\n            }\n          }\n        })\n      );\n    }\n  }]);\n\n  return _class;\n}(_react.Component);\n\nexports.default = _class;";
    },
    getData_control314_7bvT0P: function (elem) {
      return true;
    },
    doAction_uiControl305_f4G8f6: function (data, elem) {
      if (data.eventType == 'upValue') {
        // var dateArr = data.dataCustom.split('-');
        // var date = dateArr.map((v, i) => {
        //   if (i == 0) {
        //     return v + "年";
        //   } else if (i == 1) {
        //     return v + "月";
        //   } else if (i == 2) {
        //     return v + "日";
        //   } else {}
        // }).join("");
        var dataValue = data.dataCustom;var input = elem.ownerDocument.querySelector('#workSummaryPlanTime'),
            span = elem.ownerDocument.querySelector("#workSummaryPlanTimeLable span ");input.value = dataValue, span.textContent = dataValue;input.focus();var cwin = elem.ownerDocument.defaultView; //cwin.workTime();
        cwin.changeInputTime();
      }
    },
    getTemplate_uiControl305_f4G8f6: function () {
      var selfTemplate = "import {Component} from 'react';\nimport {SaleReachCalendar} from 'ysp-custom-components';\nexport default class extends Component{\n  constructor(props){\n    super(props);\n    this.state={\n      year : true,\n      mouth : true,\n      day : true,\n      show : false,\n      data : props.customData\n    }\n    window.addEventListener('ysp-workTime-show',this.toggle.bind(this),false)\n  }\n  componentDidUpdate(){\n    this.state.show ? this.styleId(): console.log('\u65E5\u5386\u8FD8\u6CA1\u6253\u5F00\u5462');\n    \n  }\n  styleId(){\n    var doc = this.refs.time;\n    if(this.state.data && !this.state.day  && !!this.state.mouth){\n      doc.querySelector('#year').style.width = '50%';\n      doc.querySelector('#mouth').style.width = '50%';\n    }\n    if(this.state.data && !this.state.mouth && !this.state.day){\n      doc.querySelector('#year').style.width = '100%';\n    }\n    if(!this.state.data){\n      doc.querySelector('#year').style.width = '100%';\n    }\n  }\n  toggle(){\n    this.setState({\n      show : !this.state.show\n    })\n  }\n  activeValue(even){\n    var doc = even.parentElement.nextElementSibling;\n    var year = doc.querySelector('#year').querySelector('.active').textContent;\n    var mouth = this.state.mouth && doc.querySelector('#mouth').querySelector('.active').textContent;\n    var day = this.state.day && doc.querySelector('#day').querySelector('.active').textContent;\n    mouth = mouth < 10 ? '0' + mouth : mouth; \n    day = day && day < 10 ? '0' + day : day;\n    var time = day ? (year + '-' + mouth + '-' + day ) :( mouth ? year + '-' + mouth : year);\n    return time;\n    // if(this.props.customData){\n    //   var year = doc.querySelector('#year').querySelector('.active').textContent;\n    //   var mouth = this.state.mouth && doc.querySelector('#mouth').querySelector('.active').textContent;\n    //   var day = this.state.day && doc.querySelector('#day').querySelector('.active').textContent;\n    //   mouth = mouth < 10 ? '0' + mouth : mouth; \n    //   day = day && day < 10 ? '0' + day : day;\n    //   var time = day ? (year + '-' + mouth + '-' + day ) :( mouth ? year + '-' + mouth : year);\n    //   return time;\n    // }else{\n    //   return doc.querySelector('#year').querySelector('.active').textContent;\n    // }\n    \n  }\n  upValue(e){\n    var handler = this.props.customHandler;\n    var value = this.activeValue(e.target);\n    if(handler){\n      handler({\n        data : value,\n        eventType : 'upValue'\n      })\n    }\n    this.setState({\n      show : false\n    })\n  }\n  render(){\n    var _this = this;\n    return(\n      <div>{this.state.show && \n        <div className='moudle-time' ref='time'>\n          <div className = 'date-time'>\n            <SaleReachCalendar \n              mouth = {_this.state.mouth}\n              day = {_this.state.day}\n              upValue = {_this.upValue.bind(_this)}\n              show = {(e)=>{\n                _this.toggle();\n              }}\n              y = {_this.state.year}\n            />\n          </div>\n        </div>}\n      </div>\n    )\n  }\n}";
      return "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _yspCustomComponents = require('ysp-custom-components');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_Component) {\n  _inherits(_class, _Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this2 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this2.state = {\n      year: true,\n      mouth: true,\n      day: true,\n      show: false,\n      data: props.customData\n    };\n    window.addEventListener('ysp-workTime-show', _this2.toggle.bind(_this2), false);\n    return _this2;\n  }\n\n  _createClass(_class, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.state.show ? this.styleId() : console.log('\u65E5\u5386\u8FD8\u6CA1\u6253\u5F00\u5462');\n    }\n  }, {\n    key: 'styleId',\n    value: function styleId() {\n      var doc = this.refs.time;\n      if (this.state.data && !this.state.day && !!this.state.mouth) {\n        doc.querySelector('#year').style.width = '50%';\n        doc.querySelector('#mouth').style.width = '50%';\n      }\n      if (this.state.data && !this.state.mouth && !this.state.day) {\n        doc.querySelector('#year').style.width = '100%';\n      }\n      if (!this.state.data) {\n        doc.querySelector('#year').style.width = '100%';\n      }\n    }\n  }, {\n    key: 'toggle',\n    value: function toggle() {\n      this.setState({\n        show: !this.state.show\n      });\n    }\n  }, {\n    key: 'activeValue',\n    value: function activeValue(even) {\n      var doc = even.parentElement.nextElementSibling;\n      var year = doc.querySelector('#year').querySelector('.active').textContent;\n      var mouth = this.state.mouth && doc.querySelector('#mouth').querySelector('.active').textContent;\n      var day = this.state.day && doc.querySelector('#day').querySelector('.active').textContent;\n      mouth = mouth < 10 ? '0' + mouth : mouth;\n      day = day && day < 10 ? '0' + day : day;\n      var time = day ? year + '-' + mouth + '-' + day : mouth ? year + '-' + mouth : year;\n      return time;\n      // if(this.props.customData){\n      //   var year = doc.querySelector('#year').querySelector('.active').textContent;\n      //   var mouth = this.state.mouth && doc.querySelector('#mouth').querySelector('.active').textContent;\n      //   var day = this.state.day && doc.querySelector('#day').querySelector('.active').textContent;\n      //   mouth = mouth < 10 ? '0' + mouth : mouth; \n      //   day = day && day < 10 ? '0' + day : day;\n      //   var time = day ? (year + '-' + mouth + '-' + day ) :( mouth ? year + '-' + mouth : year);\n      //   return time;\n      // }else{\n      //   return doc.querySelector('#year').querySelector('.active').textContent;\n      // }\n    }\n  }, {\n    key: 'upValue',\n    value: function upValue(e) {\n      var handler = this.props.customHandler;\n      var value = this.activeValue(e.target);\n      if (handler) {\n        handler({\n          data: value,\n          eventType: 'upValue'\n        });\n      }\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this = this;\n      return React.createElement(\n        'div',\n        null,\n        this.state.show && React.createElement(\n          'div',\n          { className: 'moudle-time', ref: 'time' },\n          React.createElement(\n            'div',\n            { className: 'date-time' },\n            React.createElement(_yspCustomComponents.SaleReachCalendar, {\n              mouth: _this.state.mouth,\n              day: _this.state.day,\n              upValue: _this.upValue.bind(_this),\n              show: function show(e) {\n                _this.toggle();\n              },\n              y: _this.state.year\n            })\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(_react.Component);\n\nexports.default = _class;";
    }
  }, "workSummary");
})(window, ysp);