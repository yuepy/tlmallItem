'use strict';

(function (win, ysp) {
  ysp.runtime.Model.extendLoadingModel({
    getData_control121_TZUAHF: function (elem) {
      if (!elem) {
        return { headKeys: [], data: [] };
      }var header = elem && elem.querySelector('.l-grid-header'); //获取整个table的header
      var body = elem && elem.querySelector('.l-grid-body'); //获取整个table的body
      var headKeys = []; //外部表格的的头部字段，用于获取相应字段的值
      var headTable = header.querySelector('table'); //获取外部table的header里面的table,这里面能获取到外部表格的头部字段
      var headTableTrs = headTable && headTable.querySelectorAll('tr td');for (var i = 0; i < headTableTrs.length; i++) {
        headKeys.push(headTableTrs[i].textContent); //将相应字段存入数组保存，用于返回数据
      }var bodyTable = body.querySelector('table tbody');
      //获取整个表格的body里面的table部分
      var childNodes = bodyTable && bodyTable.childNodes; //获取当前body下的所有儿子节点
      var trs = [];var subTrs = [];if (childNodes) {
        for (var i = 0; i < childNodes.length; i++) {
          if (childNodes[i].className.indexOf('l-grid-row') != -1) {
            //根据当前tr的类名判断属于panel，还是panel展开后里面的tr
            trs.push(childNodes[i]);
          } else if (childNodes[i].className.indexOf('l-grid-detailpanel') != -1) {
            //这是展开后的内容
            subTrs.push(childNodes[i]);
          } else {
            console.warn('这 tr 到底是啥');
          }
        }
      }var data = [];for (var i = 0; i < trs.length; i++) {
        //遍历所有的panel的tr,每一个tr的数据存储在一个对象里
        var tds = trs[i].querySelectorAll('td');var panelID = trs[i].id.substring(11) || ''; //取id的字段的后五位作为唯一标识
        var panelData = []; //存储panel的数据
        var detailPanelContents = []; //存储展开后的表格的数据
        var detailPanelTitles = [];
        //存储展开后的表格的头部字段
        for (var j = 0; j < tds.length; j++) {
          panelData.push(tds[j].textContent);
        }var selectorString = 'maingrid|detail|' + panelID;var detailPanelDiv = bodyTable.ownerDocument.getElementById(selectorString) || null; //根据一个唯一的id的字段来获取当前panel的展开内容是否存在
        if (detailPanelDiv != null && detailPanelDiv.style.display != 'none') {
          //当前展开的表格不为空且display != none
          var detailTables = detailPanelDiv.querySelectorAll('table'); //展开后内容里面的所有table
          var length = detailTables.length;var detailTableHeader = detailTables[length - 2]; //取倒数第二个table,里面有展开后table的头部字段值
          var detailTableHeaderTrs = detailTableHeader.querySelectorAll('tbody tr');var detailTableBody = detailTables[length - 1]; //取倒数第一个table,里面有展开后table的所有body数据
          var detailTableBodyTrs = detailTables[length - 1].querySelectorAll('tbody tr');for (var k = 0; k < detailTableHeaderTrs.length; k++) {
            var tds = detailTableHeaderTrs[k].querySelectorAll('td');for (var g = 0; g < tds.length; g++) {
              detailPanelTitles.push(tds[g].textContent);
            }
          }for (var k = 0; k < detailTableBodyTrs.length - 1; k++) {
            var itemContent = [];
            var tds = detailTableBodyTrs[k].querySelectorAll('td');for (var g = 0; g < tds.length; g++) {
              itemContent.push(tds[g].textContent);
            }detailPanelContents.push(itemContent);
          }
        }var itemData = { //存储了该panel以及该panel展开后的table的所有数据
          panelID: panelID, panelData: panelData, detailPanelTitles: detailPanelTitles, detailPanelContents: detailPanelContents };data.push(itemData);
      }
      return { headKeys: headKeys, data: data };
    },
    doAction_uiControl123_gnCniB: function (data, elem) {
      if (!elem) {
        console.warn('elem exisit');return undefined;
      }var body = elem.querySelector('.l-grid-body');var bodyTable = body.querySelector('table tbody');var childNodes = bodyTable.childNodes;var trs = [];for (var i = 0; i < childNodes.length; i++) {
        if (childNodes[i].className.indexOf('l-grid-row') != -1) {
          //根据当前tr的类名判断属于panel，还是panel展开后里面的tr
          trs.push(childNodes[i]);
        }
      }if (data.eventType === 'clickopen') {
        var data = +data.dataCustom.substring(5);var btn = trs[data].querySelectorAll('td')[0].querySelector('span');btn.click();
      }if (data.eventType === 'clickclose') {
        var data = +data.dataCustom.substring(5);var btn = trs[data].querySelectorAll('td')[0].querySelector('span');btn.click();
      }
    },
    getTemplate_uiControl123_gnCniB: function getTemplate_uiControl123_gnCniB() {
      var selfTemplate = 'import { Dialog } from \'ysp-custom-components\';\nimport { CustomHeader } from \'ysp-custom-components\';\nexport default class extends React.Component {\n  constructor(props){\n  \tsuper(props);\n    this.state = {\n    \topen: false,\n      i: \'index0\'\n    }\n  }\n  getIndex(array,flag){\n  \tfor(var i = 0; i < array.length; i++){\n    \tif(array[i] === flag){\n      \treturn i;\n      }\n    }\n    return 0;\n  }\n  handlerClick(e){\n  \tvar target = e.currentTarget;\n    var index = \'index\' + target.dataset.index;\n    this.setState({\n    \topen: !this.state.open,\n      i: index\n    });\n    var handler = this.props.customHandler;\n    if(handler){\n    \thandler({\n      \tdata: index,\n        eventType: \'clickopen\'\n      })\n    }\n  }\n  handlerBack(){\n  \tthis.setState({\n    \topen: false\n    });\n    var handler = this.props.customHandler;\n    if(handler){\n    \thandler({\n      \tdata: this.state.i,\n        eventType: \'clickclose\'\n      })\n    }\n  }\n  renderDialogBody(){\n    var i = +this.state.i.substring(5);\n    var customData = this.props.customData;\n    var data = customData.data;\n  \tvar currentPanelData = data[i];\n    var panelTitles = currentPanelData.detailPanelTitles;\n    var panelContens = currentPanelData.detailPanelContents;\n    if(data.length == 0){\n    \treturn (<div className="ysp-no-data">\n          \t\t\t<div></div>\n          \t\t\t<div>\u6682\u65F6\u6CA1\u6709\u6570\u636E~</div>\n        \t\t\t</div>);\n    }\n    return panelContens.map((item,index) => {\n    \treturn (\n      \t<div className=\'panelCardList\'>\n          <div>\n            <h3>{panelContens[index][this.getIndex(panelTitles,\'\u4ED3\u5E93\u540D\u79F0\')]}</h3>\n            <div classsName=\'cardItem\'>\n              <div><span>\u989C\u8272&nbsp;</span><span>{panelContens[index][this.getIndex(panelTitles,\'\u989C\u8272\')]}</span></div>\n              <div><span>\u5176\u5B83\u5C5E\u6027&nbsp;</span><span>{panelContens[index][this.getIndex(panelTitles,\'\u5176\u5B83\u5C5E\u6027\')]}</span></div>\n            </div>\n            <div classsName=\'cardItem\'>\n              <div><span>\u826F\u54C1\u5E93\u5B58&nbsp;</span><span>{panelContens[index][this.getIndex(panelTitles,\'\u826F\u54C1\u5E93\u5B58\')]}</span></div><div><span>\u76D2\u635F\u5E93\u5B58&nbsp;</span><span>{panelContens[index][this.getIndex(panelTitles,\'\u76D2\u635F\u5E93\u5B58\')]}</span></div>\n            </div><div classsName=\'cardItem\'><div><span>\u5360\u7528\u6570\u91CF&nbsp;</span><span>{panelContens[index][this.getIndex(panelTitles,\'\u5360\u7528\u6570\u91CF\')]}</span></div>\n              <div><span>\u5728\u9014\u5E93\u5B58\u5408\u8BA1\u7B97&nbsp;</span><span>{panelContens[index][this.getIndex(panelTitles,\'\u5728\u9014\u5408\u8BA1\')]}</span></div>\n            </div>\n          </div>\n          <div>\n            <span>{panelContens[index][this.getIndex(panelTitles,\'\u6240\u5C5E\u673A\u6784\')]}</span>\n          </div>\n        </div>\n      )\n    })\n  }\n  renderCard(){\n  \tvar customData = this.props.customData;\n    var data = customData.data;\n    var headKeys = customData.headKeys;\n    if(data.length == 0){\n    \treturn (<div className="ysp-no-datas">\n          \t\t\t<div></div>\n          \t\t\t<div>\u6682\u65F6\u6CA1\u6709\u6570\u636E~</div>\n        \t\t\t</div>);\n    }\n    return data.map((item,index) => {\n    \treturn (\n      \t<div className=\'panelCardList\' data-index={index} onClick={this.handlerClick.bind(this)}>\n          <div>\n            <h3>{item.panelData[this.getIndex(headKeys,\'\u673A\u578B\')]}</h3>\n            <div classsName=\'cardItem\'>\n              <div><span>\u826F\u54C1\u5E93\u5B58&nbsp;</span><span style={{color:\'#999999\'}}>{item.panelData[this.getIndex(headKeys,\'\u826F\u54C1\u5E93\u5B58\')]}</span></div>\n \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 \xA0<div><span>\u76D2\u635F\u5E93\u5B58&nbsp;</span><span style={{color:\'#999999\'}}>{item.panelData[this.getIndex(headKeys,\'\u76D2\u635F\u5E93\u5B58\')]}</span></div>\n            </div>\n            <div classsName=\'cardItem\'>\n              <div><span>\u94FA\u8D27\u5E93\u5B58&nbsp;</span><span style={{color:\'#999999\'}}>{item.panelData[this.getIndex(headKeys,\'\u94FA\u8D27\u5E93\u5B58\')]}</span></div>\n            \t<div><span>\u5728\u9014\u5E93\u5B58\u5408\u8BA1\u7B97&nbsp;</span><span style={{color:\'#999999\'}}>{item.panelData[this.getIndex(headKeys,\'\u5728\u9014\u5E93\u5B58\u5408\u8BA1\')]}</span></div>\n            </div>\n          </div>\n          <div>\n            <span style={{fontSize:\'12px\',color:\'#333333\'}}>{item.panelData[this.getIndex(headKeys,\'\u9879\u76EE\')]}</span>\n            <i className=\'items\'></i>\n          </div>\n          \n        </div>\n      )\n    })\n  }\n\trender(){\n    var customData = this.props.customData;\n  \treturn (\n    \t<div className=\'ysp-information-stockinquire\'>\n        <div className=\'panelCardContainer\'>{this.renderCard()}</div>\n        {this.state.open ? \n          <Dialog>\n          \t<CustomHeader \n             data={{centerText:"\u5E93\u5B58\u8BE6\u60C5",rightText:"\u7B5B\u9009"}} \n             backIsShow={true} \n             back={this.handlerBack.bind(this)}\n             filterIsShow={false} \n             filter={()=>{console.info("header filter ...")}}/>\n            <div className=\'dialogBody\'>\n              <div className=\'ysp-information-stockinquire\'>\n                <div className=\'panelCardContainer\'>{this.renderDialogBody()}</div>\n              </div>\n            </div>\n          </Dialog> : undefined}\n      </div>\n    )\n  }\n}';
      return '\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _yspCustomComponents = require(\'ysp-custom-components\');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      open: false,\n      i: \'index0\'\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: \'getIndex\',\n    value: function getIndex(array, flag) {\n      for (var i = 0; i < array.length; i++) {\n        if (array[i] === flag) {\n          return i;\n        }\n      }\n      return 0;\n    }\n  }, {\n    key: \'handlerClick\',\n    value: function handlerClick(e) {\n      var target = e.currentTarget;\n      var index = \'index\' + target.dataset.index;\n      this.setState({\n        open: !this.state.open,\n        i: index\n      });\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: index,\n          eventType: \'clickopen\'\n        });\n      }\n    }\n  }, {\n    key: \'handlerBack\',\n    value: function handlerBack() {\n      this.setState({\n        open: false\n      });\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: this.state.i,\n          eventType: \'clickclose\'\n        });\n      }\n    }\n  }, {\n    key: \'renderDialogBody\',\n    value: function renderDialogBody() {\n      var _this2 = this;\n\n      var i = +this.state.i.substring(5);\n      var customData = this.props.customData;\n      var data = customData.data;\n      var currentPanelData = data[i];\n      var panelTitles = currentPanelData.detailPanelTitles;\n      var panelContens = currentPanelData.detailPanelContents;\n      if (data.length == 0) {\n        return React.createElement(\n          \'div\',\n          { className: \'ysp-no-data\' },\n          React.createElement(\'div\', null),\n          React.createElement(\n            \'div\',\n            null,\n            \'\\u6682\\u65F6\\u6CA1\\u6709\\u6570\\u636E~\'\n          )\n        );\n      }\n      return panelContens.map(function (item, index) {\n        return React.createElement(\n          \'div\',\n          { className: \'panelCardList\' },\n          React.createElement(\n            \'div\',\n            null,\n            React.createElement(\n              \'h3\',\n              null,\n              panelContens[index][_this2.getIndex(panelTitles, \'\u4ED3\u5E93\u540D\u79F0\')]\n            ),\n            React.createElement(\n              \'div\',\n              { classsName: \'cardItem\' },\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u989C\\u8272\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  panelContens[index][_this2.getIndex(panelTitles, \'\u989C\u8272\')]\n                )\n              ),\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u5176\\u5B83\\u5C5E\\u6027\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  panelContens[index][_this2.getIndex(panelTitles, \'\u5176\u5B83\u5C5E\u6027\')]\n                )\n              )\n            ),\n            React.createElement(\n              \'div\',\n              { classsName: \'cardItem\' },\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u826F\\u54C1\\u5E93\\u5B58\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  panelContens[index][_this2.getIndex(panelTitles, \'\u826F\u54C1\u5E93\u5B58\')]\n                )\n              ),\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u76D2\\u635F\\u5E93\\u5B58\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  panelContens[index][_this2.getIndex(panelTitles, \'\u76D2\u635F\u5E93\u5B58\')]\n                )\n              )\n            ),\n            React.createElement(\n              \'div\',\n              { classsName: \'cardItem\' },\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u5360\\u7528\\u6570\\u91CF\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  panelContens[index][_this2.getIndex(panelTitles, \'\u5360\u7528\u6570\u91CF\')]\n                )\n              ),\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u5728\\u9014\\u5E93\\u5B58\\u5408\\u8BA1\\u7B97\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  null,\n                  panelContens[index][_this2.getIndex(panelTitles, \'\u5728\u9014\u5408\u8BA1\')]\n                )\n              )\n            )\n          ),\n          React.createElement(\n            \'div\',\n            null,\n            React.createElement(\n              \'span\',\n              null,\n              panelContens[index][_this2.getIndex(panelTitles, \'\u6240\u5C5E\u673A\u6784\')]\n            )\n          )\n        );\n      });\n    }\n  }, {\n    key: \'renderCard\',\n    value: function renderCard() {\n      var _this3 = this;\n\n      var customData = this.props.customData;\n      var data = customData.data;\n      var headKeys = customData.headKeys;\n      if (data.length == 0) {\n        return React.createElement(\n          \'div\',\n          { className: \'ysp-no-datas\' },\n          React.createElement(\'div\', null),\n          React.createElement(\n            \'div\',\n            null,\n            \'\\u6682\\u65F6\\u6CA1\\u6709\\u6570\\u636E~\'\n          )\n        );\n      }\n      return data.map(function (item, index) {\n        return React.createElement(\n          \'div\',\n          { className: \'panelCardList\', \'data-index\': index, onClick: _this3.handlerClick.bind(_this3) },\n          React.createElement(\n            \'div\',\n            null,\n            React.createElement(\n              \'h3\',\n              null,\n              item.panelData[_this3.getIndex(headKeys, \'\u673A\u578B\')]\n            ),\n            React.createElement(\n              \'div\',\n              { classsName: \'cardItem\' },\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u826F\\u54C1\\u5E93\\u5B58\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  { style: { color: \'#999999\' } },\n                  item.panelData[_this3.getIndex(headKeys, \'\u826F\u54C1\u5E93\u5B58\')]\n                )\n              ),\n              \'\\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0 \\xA0\',\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u76D2\\u635F\\u5E93\\u5B58\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  { style: { color: \'#999999\' } },\n                  item.panelData[_this3.getIndex(headKeys, \'\u76D2\u635F\u5E93\u5B58\')]\n                )\n              )\n            ),\n            React.createElement(\n              \'div\',\n              { classsName: \'cardItem\' },\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u94FA\\u8D27\\u5E93\\u5B58\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  { style: { color: \'#999999\' } },\n                  item.panelData[_this3.getIndex(headKeys, \'\u94FA\u8D27\u5E93\u5B58\')]\n                )\n              ),\n              React.createElement(\n                \'div\',\n                null,\n                React.createElement(\n                  \'span\',\n                  null,\n                  \'\\u5728\\u9014\\u5E93\\u5B58\\u5408\\u8BA1\\u7B97\\xA0\'\n                ),\n                React.createElement(\n                  \'span\',\n                  { style: { color: \'#999999\' } },\n                  item.panelData[_this3.getIndex(headKeys, \'\u5728\u9014\u5E93\u5B58\u5408\u8BA1\')]\n                )\n              )\n            )\n          ),\n          React.createElement(\n            \'div\',\n            null,\n            React.createElement(\n              \'span\',\n              { style: { fontSize: \'12px\', color: \'#333333\' } },\n              item.panelData[_this3.getIndex(headKeys, \'\u9879\u76EE\')]\n            ),\n            React.createElement(\'i\', { className: \'items\' })\n          )\n        );\n      });\n    }\n  }, {\n    key: \'render\',\n    value: function render() {\n      var customData = this.props.customData;\n      return React.createElement(\n        \'div\',\n        { className: \'ysp-information-stockinquire\' },\n        React.createElement(\n          \'div\',\n          { className: \'panelCardContainer\' },\n          this.renderCard()\n        ),\n        this.state.open ? React.createElement(\n          _yspCustomComponents.Dialog,\n          null,\n          React.createElement(_yspCustomComponents.CustomHeader, {\n            data: { centerText: "\u5E93\u5B58\u8BE6\u60C5", rightText: "\u7B5B\u9009" },\n            backIsShow: true,\n            back: this.handlerBack.bind(this),\n            filterIsShow: false,\n            filter: function filter() {\n              console.info("header filter ...");\n            } }),\n          React.createElement(\n            \'div\',\n            { className: \'dialogBody\' },\n            React.createElement(\n              \'div\',\n              { className: \'ysp-information-stockinquire\' },\n              React.createElement(\n                \'div\',\n                { className: \'panelCardContainer\' },\n                this.renderDialogBody()\n              )\n            )\n          )\n        ) : undefined\n      );\n    }\n  }]);\n\n  return _class;\n}(React.Component);\n\nexports.default = _class;';
    },
    getData_control129_dZPASs: function (elem) {},
    doAction_uiControl133_w2VKbs: function (data, elem) {
      if (data.eventType === 'click') {
        var btn = elem.querySelector('input[type="button"]');btn.click();
      }if (data.eventType === 'change') {
        var value = data.dataCustom;var btn = elem.querySelector('input[type="text"]');btn.value = value;
      }
    },
    getTemplate_uiControl133_w2VKbs: function getTemplate_uiControl133_w2VKbs() {
      var selfTemplate = 'export default class extends React.Component {\n  handlerChange(e){\n  \tvar value = e.target.value;\n    var handler = this.props.customHandler;\n    if(handler){\n    \thandler({\n      \tdata: value,\n        eventType: \'change\'\n      })\n    }\n  }\n  handlerClick(){\n  \tvar handler = this.props.customHandler;\n    if(handler){\n    \thandler({\n      \teventType: \'click\'\n      })\n    }\n  }\n\trender(){\n  \treturn (\n    \t<div className=\'ysp-search-custom\'>\n        <div>\n        \t<input type=\'text\' placeholder=\'\u641C\u7D22\u673A\u578B\u540D\u79F0\' onChange={this.handlerChange.bind(this)} style={{textAlign:\'center\'}} />\n        \t<span onClick={this.handlerClick.bind(this)}>\u641C\u7D22</span>\n        </div>\n      </div>\n    )\n  }\n}';
      return '\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class() {\n    _classCallCheck(this, _class);\n\n    return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));\n  }\n\n  _createClass(_class, [{\n    key: \'handlerChange\',\n    value: function handlerChange(e) {\n      var value = e.target.value;\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: value,\n          eventType: \'change\'\n        });\n      }\n    }\n  }, {\n    key: \'handlerClick\',\n    value: function handlerClick() {\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          eventType: \'click\'\n        });\n      }\n    }\n  }, {\n    key: \'render\',\n    value: function render() {\n      return React.createElement(\n        \'div\',\n        { className: \'ysp-search-custom\' },\n        React.createElement(\n          \'div\',\n          null,\n          React.createElement(\'input\', { type: \'text\', placeholder: \'\\u641C\\u7D22\\u673A\\u578B\\u540D\\u79F0\', onChange: this.handlerChange.bind(this), style: { textAlign: \'center\' } }),\n          React.createElement(\n            \'span\',\n            { onClick: this.handlerClick.bind(this) },\n            \'\\u641C\\u7D22\'\n          )\n        )\n      );\n    }\n  }]);\n\n  return _class;\n}(React.Component);\n\nexports.default = _class;';
    },

    getData_control72_ql29xv: function (elem) {
      if (!elem) {
        return { name: [], content: [] };
      }var content = elem.ownerDocument.querySelector('#content');var row = content.querySelector('.row');var menuDiv = row.querySelector('.sxtj');var buttons = menuDiv.querySelectorAll('button');var contentDiv = row.querySelector('.optionBox');var optionLine = contentDiv.querySelectorAll('.optionLine');var menu = [];var headerChoose = [];var content = [];for (var i = 0; i < buttons.length; i++) {
        menu.push(buttons[i].textContent);if (buttons[i].style.color) {
          headerChoose.push(true);
        } else {
          headerChoose.push(false);
        }
      }var head = { menu: menu, headerChoose: headerChoose };for (var _i = 0; _i < optionLine.length; _i++) {
        var nameDiv = optionLine[_i].querySelector('.optionName');var name = nameDiv.textContent.replace(/ |\n|\t/g, '');var value = [];var isChoose = [];var valueDiv = optionLine[_i].querySelector('.optionValue');var spans = valueDiv.querySelectorAll('span');for (var j = 0; j < spans.length; j++) {
          if (spans[j].textContent != '') {
            value.push(spans[j].textContent);if (spans[j].style.color) {
              isChoose.push(true);
            } else {
              isChoose.push(false);
            }
          }
        }content.push({ name: name, value: value, isChoose: isChoose });
      }return { head: head, content: content };
    },
    doAction_uiControl116_f4yPcq: function (data, elem) {
      if (data.eventType === 'back') {
        //parent.EAPI.back();
        if (!top.EAPI.isAndroid()) {
          ysp.customHelper.back();
        } else {
          ysp.customHelper.AndroidBackFn();
        }
      }if (data.eventType == 'AndroidBack') {
        ysp.customHelper.AndroidBackFlag = 'PageClose';
      }if (!elem) {
        return undefined;
      }var content = elem.ownerDocument.querySelector('#content');var row = content.querySelector('.row');var menuDiv = row.querySelector('.sxtj');var buttons = menuDiv.querySelectorAll('button');var contentDiv = row.querySelector('.optionBox');var optionLine = contentDiv.querySelectorAll('.optionLine');if (data.eventType === 'choose') {
        var handlerData = data.dataCustom;var index = handlerData.index;var subindex = handlerData.subindex;var type = handlerData.type;if (type === 'menu') {
          buttons[subindex].click();
        } else if (type === 'content') {
          var optionValue = optionLine[index].querySelector('.optionValue');var spans = optionValue.querySelectorAll('span');spans[subindex].click();
        } else {
          console.warn('type undefined');
        }
      }
    },
    getTemplate_uiControl116_f4yPcq: function getTemplate_uiControl116_f4yPcq() {
      var selfTemplate = 'import {Component} from \'react\'; \nimport {CustomHeader} from \'ysp-custom-components\';\nimport {FilterModal} from \'ysp-custom-components\';\nexport default class extends Component{\n   constructor(props){\n   \tsuper(props);\n     this.state = {\n     \tshow: false,\n      open: false\n     }\n   }\n  componentDidMount(){\n    var _this = this;\n    ysp.customHelper.AndroidBackFlag = \'PageClose\';\n    var handler = _this.props.customHandler;\n    if (handler) {\n      handler({\n        eventType: \'AndroidBack\'\n      });\n    }\n    // const {customHandler} = _this.props;\n    // customHandler({eventType:\'AndroidBack\'});\n  }\n  handlerChoose(e){\n    this.setState({\n    \topen : true\n    })\n  \tvar target = e.target;\n    var index = target.dataset.index;\n    var subindex = target.dataset.subindex;\n    var type = target.dataset.type;\n    const handler = this.props.customHandler;\n    if(handler){\n    \thandler({\n      \tdata: {\n        \tindex: index,\n          subindex: subindex,\n          type: type\n        },\n        eventType: \'choose\'\n      })\n    }\n  }\n  handlerDone(){\n  \tthis.setState({\n    \tshow: false\n    })\n  }\n   render = () => {\n       var _this = this;\n     var data = this.props.customData;\n       return (\n         <div>\n           <CustomHeader \n \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 data={{centerText:"\u5E93\u5B58\u67E5\u8BE2",rightText:"\u7B5B\u9009"}} \n \xA0 \xA0 \xA0 \xA0 \xA0 \xA0 backIsShow={true} \n             back={()=>{ \n                var handler = _this.props.customHandler;\n                if (handler) {\n                  handler({\n                    eventType: \'back\'\n                  });\n                }\n             }} \n             filterIsShow={true}\n             filter={()=>{this.setState({show: !this.state.show})}}/>\n           <div className=\'stockInquire-fixed\'>\n             {this.state.show ? \n               <FilterModal head={data.head} handlerDone={this.handlerDone.bind(this)} content={data.content} choose={this.handlerChoose.bind(this)} open = {this.state.open}></FilterModal> : undefined}\n           </div>\n          </div>\n       );\n   }\n}';
      return '\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\'react\');\n\nvar _yspCustomComponents = require(\'ysp-custom-components\');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_Component) {\n  _inherits(_class, _Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this2 = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this2.render = function () {\n      var _this = _this2;\n      var data = _this2.props.customData;\n      return React.createElement(\n        \'div\',\n        null,\n        React.createElement(_yspCustomComponents.CustomHeader, {\n          data: { centerText: "\u5E93\u5B58\u67E5\u8BE2", rightText: "\u7B5B\u9009" },\n          backIsShow: true,\n          back: function back() {\n            var handler = _this.props.customHandler;\n            if (handler) {\n              handler({\n                eventType: \'back\'\n              });\n            }\n          },\n          filterIsShow: true,\n          filter: function filter() {\n            _this2.setState({ show: !_this2.state.show });\n          } }),\n        React.createElement(\n          \'div\',\n          { className: \'stockInquire-fixed\' },\n          _this2.state.show ? React.createElement(_yspCustomComponents.FilterModal, { head: data.head, handlerDone: _this2.handlerDone.bind(_this2), content: data.content, choose: _this2.handlerChoose.bind(_this2), open: _this2.state.open }) : undefined\n        )\n      );\n    };\n\n    _this2.state = {\n      show: false,\n      open: false\n    };\n    return _this2;\n  }\n\n  _createClass(_class, [{\n    key: \'componentDidMount\',\n    value: function componentDidMount() {\n      var _this = this;\n      ysp.customHelper.AndroidBackFlag = \'PageClose\';\n      var handler = _this.props.customHandler;\n      if (handler) {\n        handler({\n          eventType: \'AndroidBack\'\n        });\n      }\n      // const {customHandler} = _this.props;\n      // customHandler({eventType:\'AndroidBack\'});\n    }\n  }, {\n    key: \'handlerChoose\',\n    value: function handlerChoose(e) {\n      this.setState({\n        open: true\n      });\n      var target = e.target;\n      var index = target.dataset.index;\n      var subindex = target.dataset.subindex;\n      var type = target.dataset.type;\n      var handler = this.props.customHandler;\n      if (handler) {\n        handler({\n          data: {\n            index: index,\n            subindex: subindex,\n            type: type\n          },\n          eventType: \'choose\'\n        });\n      }\n    }\n  }, {\n    key: \'handlerDone\',\n    value: function handlerDone() {\n      this.setState({\n        show: false\n      });\n    }\n  }]);\n\n  return _class;\n}(_react.Component);\n\nexports.default = _class;';
    },

    getData_control127_Jx2ncW: function (elem) {
      if (elem) {
        var data = elem.ownerDocument.querySelector('.l-panel-bar');var prev = data.querySelector('.l-bar-btnprev').querySelector('span').classList.contains('l-disabled');var next = data.querySelector('.l-bar-btnnext').querySelector('span').classList.contains('l-disabled');var trs = elem.ownerDocument.querySelector('.l-scroll').textContent;return { prev: prev, next: next, trs: trs };
      }return -1;
    },
    doAction_uiControl126_pH5QBe: function (data, elem) {
      if (data.eventType == 'prevpage') {
        elem.ownerDocument.querySelector('.l-bar-btnprev span').click();
      }if (data.eventType == 'nextpage') {
        elem.ownerDocument.querySelector('.l-bar-btnnext span').click();
      }
    },
    getTemplate_uiControl126_pH5QBe: function getTemplate_uiControl126_pH5QBe() {
      var selfTemplate = 'import { Pagination } from \'ysp-custom-components\';\nexport default class extends React.Component {\n  constructor(props){\n    super(props);\n    this.state={\n      nprev:props.customData.prev || false,\n      nnext:props.customData.next || false\n    }\n  }\n  componentWillReceiveProps(nextProps){\n    this.setState({\n      nprev:nextProps.customData.prev,\n      nnext:nextProps.customData.next\n    })\n  }\n  render(){\n    if(this.props.customData.trs != ""){\n      return (\n        <div>\n          <Pagination \n            prev={()=>{\n              var handler = this.props.customHandler;\n              if(handler){\n                handler({\n                  eventType: \'prevpage\'\n                });\n              }\n            }}\n            disabledPrev={this.props.customData.prev}\n            next={()=>{\n              var handler = this.props.customHandler;\n              if(handler){\n                handler({\n                  eventType: \'nextpage\'\n                })\n              }\n            }}\n             disabledNext={this.props.customData.next}\n            />\n        </div>\n      )\t\n    }else{\n      return (\n      \t<div></div>\n      )\n    }\n  }\n}';
      return '\'use strict\';\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _yspCustomComponents = require(\'ysp-custom-components\');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar _class = function (_React$Component) {\n  _inherits(_class, _React$Component);\n\n  function _class(props) {\n    _classCallCheck(this, _class);\n\n    var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));\n\n    _this.state = {\n      nprev: props.customData.prev || false,\n      nnext: props.customData.next || false\n    };\n    return _this;\n  }\n\n  _createClass(_class, [{\n    key: \'componentWillReceiveProps\',\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        nprev: nextProps.customData.prev,\n        nnext: nextProps.customData.next\n      });\n    }\n  }, {\n    key: \'render\',\n    value: function render() {\n      var _this2 = this;\n\n      if (this.props.customData.trs != "") {\n        return React.createElement(\n          \'div\',\n          null,\n          React.createElement(_yspCustomComponents.Pagination, {\n            prev: function prev() {\n              var handler = _this2.props.customHandler;\n              if (handler) {\n                handler({\n                  eventType: \'prevpage\'\n                });\n              }\n            },\n            disabledPrev: this.props.customData.prev,\n            next: function next() {\n              var handler = _this2.props.customHandler;\n              if (handler) {\n                handler({\n                  eventType: \'nextpage\'\n                });\n              }\n            },\n            disabledNext: this.props.customData.next\n          })\n        );\n      } else {\n        return React.createElement(\'div\', null);\n      }\n    }\n  }]);\n\n  return _class;\n}(React.Component);\n\nexports.default = _class;';
    }
  }, 'stockInquire');
})(window, ysp);