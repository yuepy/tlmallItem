getData_control321_P7fT3E: >
  if (!elem && ysp.customHelper.getTargetMenus) {
    return;
  }

  var WorkSpace = ysp.customHelper.getTargetMenus(["工作台", "信息录入", "拜访总览",
  "拜访查看", "@我的报告", "汇报总结", '问卷填写'], ['门店信息录入']);

  var Achievement = ysp.customHelper.getTargetMenus(["销售业绩总览", "计划达成总览",
  "事业部达成", "项目达成", "产品达成", "分公司达成", "办事处达成", "销售人员达成", "客户门店达成", "年度销售达成(新)",
  "智能生活馆"]);

  var InFormation = ysp.customHelper.getTargetMenus(["库存查询", "产品上下架", "分货产品查询",
  "我的工作", "分货客户查询"]);

  var ClientOrStore = ysp.customHelper.getTargetMenus(['客户360', '门店360']);

  var atMe = ysp.customHelper.IconNum.atMe || 0;

  var summary = ysp.customHelper.IconNum.summary || 0;

  if (!atMe || !summary) {
    atMe = localStorage.getItem('atMe');
    summary = localStorage.getItem('summary');

    if (summary == null) {
      summary = 0;
    }

    if (atMe == null) {
      atMe = 0;
    }
  }

  return {
    WorkSpace: WorkSpace,
    Achievement: Achievement,
    InFormation: InFormation,
    ClientOrStore: ClientOrStore,
    IconNum: {
      atMe: atMe,
      summary: summary
    }
  };
doAction_uiControl63_ax7qQG: |
  if (data.eventType == 'testClick') {
    elem.ownerDocument.defaultView.open(data.dataCustom);
  } //下拉刷新 , 因模版原因,现刷新原网页实现
  if (data.eventType == 'getIconNum') {
    if (ysp.appMain.isIOS()) {
      top.EAPI.postMessageToNative('GetIconNum', '');
    } else {
      ysp.customHelper.AndroidGetIconNum();
    }
  }
  if (data.eventType == 'reload') {
    elem.ownerDocument.defaultView.location.reload();

    if (ysp.appMain.isIOS()) {
      top.EAPI.postMessageToNative('GetIconNum', '');
    } else {
      ysp.customHelper.AndroidGetIconNum();
    }
  }
  if (data.eventType == 'click') {
    //IOS端获取当前网速方法
    top.EAPI.postMessageToNative('IOSLine', '');
    var src = data.dataCustom.url;
    var title = data.dataCustom.title;

    if (title == '拜访总览') {
      openUrl(src, title);
    } else {
      elem.ownerDocument.defaultView.open(src);
    }
  } //图标尺寸  48 * 48   文字大小 17px
  if (data.eventType == 'click_infomation') {
    var src = data.dataCustom.url;
    var title = data.dataCustom.title;
    openUrl(src, title);
  } //请求大数据参数接口 . 拼接地址进行跳转
  function openUrl(src, title) {
    ysp.appMain.showLoading();
    var xhr = new XMLHttpRequest();

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4) {
        var obj = JSON.parse(xhr.response);
        var branch = obj.branch.match(/\d+/) ? obj.branch.match(/\d+/)[0] : obj.branch;

        if (obj.position == '总部领导' || obj.position == '事业部总经理' || obj.position == '产品经理' || obj.position == '大客户业务部总经理' || obj.position == '总部客户经理' || obj.position == '电商平台运营中心客户管理部' || obj.position == '电商平台运营中心产品运营部' || obj.position == '电商平台运营中心商务管理部' || obj.position == '事业部商务人员' || obj.position == '智能生活馆') {
          src = title == '产品上下架' && src.indexOf('?') == -1 && src.indexOf('&') == -1 ? src + '/querySku4Manager?a=1&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId : src.indexOf('?') != -1 && src.indexOf('&') != -1 ? src + '&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&a=1' : src.indexOf('?') == -1 && src.indexOf('&') == -1 ? src + '?filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&a=1' : src.indexOf('?') != -1 && src.indexOf('&') == -1 && src.split('?')[1].length > 0 ? src + '&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&a=1' : src + 'filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&a=1';
        } else if (obj.position == '分公司分总' || obj.position == '品牌经理' || obj.position == '分公司电商中心经理') {
          src = title == '产品上下架' && src.indexOf('?') == -1 && src.indexOf('&') == -1 ? src + '/querySku4Manager?a=1&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&branch=' + branch + '&a=1' : src.indexOf('?') != -1 && src.indexOf('&') != -1 ? src + '&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&branch=' + branch + '&a=1' : src.indexOf('?') == -1 && src.indexOf('&') == -1 ? src + '?filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&branch=' + branch + '&firstFlag' : src.indexOf('?') != -1 && src.indexOf('&') == -1 && src.split('?')[1].length > 0 ? src + '&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&branch=' + branch + '&a=1' : src + 'filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&branch=' + branch + '&a=1';
        } else if (obj.position == '办事处主任' || obj.position == '销售代表') {
          src = title == '产品上下架' && src.indexOf('?') == -1 && src.indexOf('&') == -1 ? src + '/querySku?a=1&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&a=1' + '&branch=' + branch : src.indexOf('?') != -1 && src.indexOf('&') != -1 ? src + '&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&a=1' + '&branch=' + branch : src.indexOf('?') == -1 && src.indexOf('&') == -1 ? src + '?filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&firstFlag' : src.indexOf('?') != -1 && src.indexOf('&') == -1 && src.split('?')[1].length > 0 ? src + '&filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&a=1' : src + 'filter_userId=' + obj.userId + '&encoder=' + obj.encoder + '&username=' + obj.userId + '&a=1' + '&branch=' + branch;
        }

        ysp.appMain.showLoading();
        elem.ownerDocument.defaultView.open(src);
      }
    };

    xhr.open('POST', 'http://192.168.1.227/pttlCrm/homepage/getUserIdAndEncoder', false);
    xhr.send();
  } // if (data.eventType == 'isNeedLoad') {
  //   if (top.EAPI.isAndroid()) {
  //     top.yspCheckIn.isRefresh(false);
  //   }
  // }
getTemplate_uiControl63_ax7qQG: "import {Component} from 'react';\nexport default class extends Component{\n  constructor(){\n  super();\n \_ var _this = this; window.addEventListener('touchstart',_this.TouchStart.bind(_this),false);\n    window.addEventListener('touchmove',_this.TouchMove.bind(_this),false);\n    window.addEventListener('touchend',_this.TouchEnd.bind(_this),false);\n    _this.canefresh = false;\n    _this.startY = 0;\n    _this.endY = 0;\n    _this.padding=0;\n  }\n  componentDidMount(){\n    var _this = this ;\n    var handler = _this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'getIconNum'\n      })\n      // handler({\n      //   eventType:'isNeedLoad'\n      // })\n    }\n  }\n \_TouchStart(e){\n    var _this = this;\n    _this.startY = e.touches[0].pageY;\n if(e.target.ownerDocument.defaultView.document.querySelector('.view-wrapper') && e.target.ownerDocument.defaultView.document.querySelector('.view-wrapper').scrollTop <=0 && _this.startY < 150){\n      _this.canefresh = true;\n    }\n    \n  }\n  TouchMove(e){\n    var _this = this;\n    if(!_this.canefresh){\n      return ;\n    }\n    _this.endY = e.touches[0].pageY;\n    if(_this.endY - _this.startY > 60 && _this.refs.Menus && _this.endY < 400){\n      _this.padding = (_this.endY - _this.startY)/2;\n      _this.refs.Menus.style.paddingTop = _this.padding+'px';\n    }\n    var height = e.target.ownerDocument.defaultView.document.body.clientHeight;\n    var width = e.target.ownerDocument.defaultView.document.body.clientWidth;\n    if(_this.endY > 480 || (width-e.touches[0].pageX < 10) || (_this.endY - _this.startY > 260  && _this.padding > 150)){\n      _this.TouchEnd()\n    }\n  }\n  TouchEnd(e){\n    var _this = this;\n    if(!_this.canefresh){\n      return ;\n    }\n    if(((_this.endY - _this.startY) > 260) && _this.canefresh && _this.endY > 10 && _this.padding > 150){\n \_ \_ \_var handler = _this.props.customHandler;\n      if(handler){\n        handler({\n          eventType:'reload'\n        })\n      }\n    }else if(_this.endY > 480){\n      _this.endY = 0;\n      _this.startY = 0;\n      _this.canefresh = false;\n      _this.padding = 0;\n      if(_this.refs.Menus){\n        var paddingNum = parseInt(_this.refs.Menus.style.paddingTop.split('p')[0]);\n      var timer = setInterval(function(){\n        if( paddingNum > 0){\n          paddingNum -= 5;\n          _this.refs.Menus.style.paddingTop = paddingNum+'px';\n        }else{\n          _this.refs.Menus.style.paddingTop = '0px';\n          clearInterval(timer);\n        }\n      },10)\n      }\n    }\n    _this.endY = 0;\n    _this.startY = 0;\n    _this.canefresh = false;\n    _this.padding = 0;\n \_ \_if(_this.refs.Menus){\n      //_this.refs.Menus.style.paddingTop = '0px';\n      var paddingNum = parseInt(_this.refs.Menus.style.paddingTop.split('p')[0]);\n      var timer = setInterval(function(){\n        if( paddingNum > 0){\n          paddingNum -= 5;\n          _this.refs.Menus.style.paddingTop = paddingNum+'px';\n        }else{\n          _this.refs.Menus.style.paddingTop = '0px';\n          clearInterval(timer);\n        }\n      },10)\n    }\n       \n  }\n  onClick(e){\n    var _this = this;\n    if(e.target.nodeName != \"LI\"){\n      if(e.target.nodeName == 'SPAN'){\n        e.target = e.target.parentNode\n      }else if(e.target.nodeName == 'UL'){\n        e.target = e.target.querySelectorAll('li');\n      }\n    }\n    var handler = _this.props.customHandler;\n    if(handler){\n      handler({\n        data:{url:e.target.dataset.url,title:e.target.querySelector('.Menus-content').textContent},\n        eventType:'click'\n      })\n    }\n  }\n  onClick_infomation(e){\n    var _this = this;\n    if(e.target.nodeName != \"LI\"){\n      if(e.target.nodeName == 'SPAN'){\n        e.target = e.target.parentNode\n      }else if(e.target.nodeName == 'UL'){\n        e.target = e.target.children\n      }\n    }\n    var handler = _this.props.customHandler;\n    if(handler){\n      handler({\n        data:{url:e.target.dataset.url,title:e.target.querySelector('.Menus-content').textContent},\n \_ \_ \_ \_eventType:'click_infomation'\n      })\n    }\n  }\n  render(){\n \_ \_var _this = this;\n    var WorkSpace = this.props.customData.WorkSpace;\n    var Achievement = this.props.customData.Achievement;\n    var InFormation = this.props.customData.InFormation;\n \_ \_var ClientOrStore = this.props.customData.ClientOrStore\n    var atMe = this.props.customData.IconNum.atMe;\n    var summary = this.props.customData.IconNum.summary;\n \_ \_return(\n \_  \t<div className='ysp-Menus-All' ref='Menus'>\n        {WorkSpace.length ==0 ? '' :<ul onClick={_this.onClick.bind(_this)} className='ysp-Menus-all-WorkSpace'>\n          <div className='ysp-Menus-title'>\n          <span className='Menus-head'>我的工作</span>\n          </div>\n          {WorkSpace && WorkSpace.map((item,index)=>{\n            return(\n \_ \_ \_ \_ \_ \_ \_<li data-url={item.url} className='Menus-list'>\n                <span className={item.code}>{(item.name.indexOf('@')!==-1)||(item.name.indexOf('拜访查看')!=-1)?item.name.substr(1,1):item.name.substr(0,1)}\n                  <span></span>\n                </span>\n                {(item.name == '@我的报告' && atMe != '0' ) && <i className='atMe'>{atMe}</i> }\n                {(item.name == '汇报总结' && summary != '0' ) && <i className='summary'>{summary}</i>}\n                <span className='Menus-content'>{item.name}</span>\n              </li>\n            )\n          })}\n        </ul>}\n        {Achievement.length == 0 ? '' : <ul onClick={_this.onClick_infomation.bind(_this)} className='ysp-Menus-all-Achievement'>\n          <div className='ysp-Menus-title'><span className='Menus-head'>业绩达成</span>\n          </div>\n          {Achievement && Achievement.map((item,index)=>{\n            return(\n \_ \_ \_ \_ \_ \_ \_<li data-url={item.url} className='Menus-list'>\n                <span className={item.code}>{item.name.substr(0,1)}\n                  <span></span>\n                </span>\n                <span className='Menus-content'>{item.name}</span>\n              </li>\n            )\n          })}\n        </ul>}\n        {InFormation.length == 0 ? '' : <ul onClick={_this.onClick_infomation.bind(_this)} className='ysp-Menus-all-InFormation'>\n          <div className='ysp-Menus-title'><span className='Menus-head'>数据看板</span>\n          </div>\n          {InFormation && InFormation.map((item,index)=>{\n            return(\n \_ \_ \_ \_ \_ \_ \_<li data-url={item.url} className='Menus-list'>\n                <span className={item.code}>\n                  {item.name == '分货客户查询' ? \"客\" : item.name.substr(0,1)}\n                  <span></span>\n                </span>\n                <span className='Menus-content'>{item.name}\n                </span>\n              </li>\n            )\n          })}\n        </ul>}\n        {ClientOrStore.length == 0 ? '' : <ul onClick={_this.onClick.bind(_this)} className='ysp-Menus-all-ClientOrStore'>\n \_ \_ \_ \_ \_<div className='ysp-Menus-title'>\n            <span className='Menus-head'>客户&门店</span>\n          </div>\n          {ClientOrStore && ClientOrStore.map((item,index)=>{\n            return(\n \_ \_ \_ \_ \_ \_ \_<li data-url={item.url} className='Menus-list'>\n                <span className={item.code}>{item.name.substr(0,1)}\n                  <span></span>\n                </span>\n                <span className='Menus-content'>{item.name}\n                </span>\n              </li>\n            )\n          })}\n        </ul>}\n      </div>\n    )\n  }\n}"
getData_control323_LpKwKt: |
  if (elem) {
    return false;
  }
  if (!elem) {
    alert('我到底看看为什么找不着.');
  }
doAction_uiControl312_k8ZZCQ: |
  if (data.eventType === 'back') {//ysp.customHelper.backHome();
  }
  if (data.eventType === 'initState') {
    ysp.customHelper.BackFlag = 0; //初始化拜访管理逐级返回标识
    // if (top.EAPI.isAndroid()) {
    //   top.yspCheckIn.backMarking('indexFlag');
    // }
  }
getTemplate_uiControl312_k8ZZCQ: "import {Component} from 'react'; \nimport {CustomHeader} from 'ysp-custom-components';\nexport default class extends Component{\n  componentDidMount(){\n    var _this = this;\n    if(top.EAPI.isAndroid() || top.EAPI.isStudio()){\n      ysp.customHelper.AndroidGetIconNum();\n    }\n    ysp.customHelper.AndroidBackFlag = 'indexBack';\n    const {customHandler} = _this.props;\n    customHandler  && customHandler({eventType:'initState'})\n  }\n   render = () => {\n       let _this = this;\n       return (\n         <CustomHeader \n \_ \_ \_ \_ \_ data={{centerText:\"VCRM\",rightText:\"筛选\"}} \n           backIsShow={false} \n           back={()=>{ \n              let handler = _this.props.customHandler;\n              if (handler) {\n                handler({\n                  eventType: 'back'\n                });\n                pt_oberseve.subscribe('temp:visit:clientstore:choose', _this.switch,this);\n              }\n           }} \n           filterIsShow={false} \n           filter={()=>{console.info(\"header filter ...\")}}\n           hander={(e)=>{\ne.target.ownerDocument.defaultView.document.querySelector('.view-wrapper').scrollTop = 0;\n           }}/>\n       );\n   }\n}"
