getData_control326_utfBUI: >
  if (!elem) {
    return;
  }

  var data = {
    dateTime: [],
    GSJG: [],
    GSJGValue: [],
    XM: [],
    XMValue: [],
    WJLX: [],
    WJLXValue: [],
    ZT: [],
    ZTValue: [],
    loadingFlag: []
  };

  var el = elem.ownerDocument;

  var date = el.querySelector("#srarch_date").value;

  data.dateTime.push(date);

  var department = el.querySelector("#department").querySelectorAll("option");

  for (var i = 0; i < department.length; i++) {
    data.GSJG.push(department[i].textContent);
  }

  var departmentValue = el.querySelector("#department").selectedIndex;

  data.GSJGValue.push(departmentValue);

  var project = el.querySelector("#project").querySelectorAll("option");

  for (var i = 0; i < project.length; i++) {
    data.XM.push(project[i].textContent);
  }

  var projectValue = el.querySelector("#project").selectedIndex;

  data.XMValue.push(projectValue);

  var quType = el.querySelector("#quType").querySelectorAll("option");

  for (var i = 0; i < quType.length; i++) {
    data.WJLX.push(quType[i].textContent);
  }

  var quTypeValue = el.querySelector("#quType").selectedIndex;

  data.WJLXValue.push(quTypeValue);

  var status = el.querySelector("#status").querySelectorAll("option");

  for (var i = 0; i < status.length; i++) {
    data.ZT.push(status[i].textContent);
  }

  var statusValue = el.querySelector("#status").selectedIndex;

  data.ZTValue.push(statusValue);

  var load =
  elem.ownerDocument.defaultView.localStorage.getItem('layerLoading');

  if (load == null) {
    setTimeout(function () {
      ysp.appMain.hideLoading();
    }, 5000);
  } else {
    ysp.appMain.showLoading();
  }

  data.loadingFlag.push(load);

  return data;
doAction_uiControl316_O3sq7E: |
  if (data.eventType == 'AndroidBack') {
    ysp.customHelper.AndroidBackModel = 'index';
    ysp.customHelper.AndroidBackFlag = 'PageClose';
  }
  if (data.eventType == 'back') {
    if (!top.EAPI.isAndroid()) {
      elem.ownerDocument.defaultView.close();
    } else {
      //ysp.customHelper.AndroidBackFn();
      ysp.appMain.back();
    }
  }
  if (data.eventType == "select") {
    var value = data.dataCustom.value;
    var text = data.dataCustom.text;
    var selectEl;

    if ("归属机构" == text) {
      selectEl = elem.querySelector('#department');
    } else if ("项目" == text) {
      selectEl = elem.querySelector('#project');
    } else if ("问卷类型" == text) {
      selectEl = elem.querySelector('#quType');
    } else if ("状态" == text) {
      selectEl = elem.querySelector('#status');
    }

    selectEl.selectedIndex = value;

    if (selectEl.onchange) {
      selectEl.onchange();
    } else if (selectEl.dispatchEvent) {
      selectEl.dispatchEvent(new Event('change'));
    } else {
      selectEl.dispatchEvent(new MouseEvent('click', {
        view: selectEl.ownerDocument.defaultView,
        bubbles: true,
        cancelable: true
      }));
    }
  }
  if ("buttonClick" == data.eventType) {
    var text = data.dataCustom;

    if ("重置" == text) {
      elem.ownerDocument.querySelector(".clear-filter").click();
    }

    if ("确认" == text) {
      elem.ownerDocument.querySelector("#search").click();
    }
  }
getTemplate_uiControl316_O3sq7E: "import {Component} from 'react'; \nimport {CustomHeader} from 'ysp-custom-components';\nexport default class extends Component{\n   constructor(props){\n   \tsuper(props);\n   this.state = {\n      show: false\n   }\n  }\n  componentDidMount(){\n    var _this = this;\n \_ \_var customHandler = _this.props.customHandler;\n    ysp.customHelper.AndroidBackModel = 'index';\n  \tysp.customHelper.AndroidBackFlag = 'PageClose';\n    customHandler({\n      eventType:'AndroidBack'\n    })\n  }\n  buttonClick(e){\n    var target = e.target;\n    var title = target.dataset.title;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        data: title,\n        eventType: 'buttonClick'\n      })\n    }\n    if(\"确认\" == title){\n      this.setState({\n        show: false\n      })\n    }\n  }\n  shadowClick(e){\n    this.setState({\n      show: !this.state.show\n    })\n  }\n  renderOptions(e){\n    var data = this.props.customData && this.props.customData.GSJG;\n    var value = this.props.customData && this.props.customData.GSJGValue[0];\n    return data.map((item,index) => {\n    \treturn (\n      \t<option selected = {value == index ? \"selected\" : \"\"} value={index}>{item}</option>\n      )\n    })\n  }\n  renderOptionsXM(e){\n    var data = this.props.customData && this.props.customData.XM;\n    var value = this.props.customData && this.props.customData.XMValue[0];\n    return data.map((item,index) => {\n    \treturn (\n      \t<option selected = {value == index ? \"selected\" : \"\"} value={index}>{item}</option>\n      )\n    })\n  }\n  renderOptionsWJLX(e){\n    var data = this.props.customData && this.props.customData.WJLX;\n    var value = this.props.customData && this.props.customData.WJLXValue[0];\n    return data.map((item,index) => {\n    \treturn (\n      \t<option  selected = {value == index ? \"selected\" : \"\"}  value={index}>{item}</option>\n      )\n    })\n  }\n  renderOptionsZT(e){\n    var data = this.props.customData && this.props.customData.ZT;\n    var value = this.props.customData && this.props.customData.ZTValue[0];\n    return data.map((item,index) => {\n    \treturn (\n      \t<option selected = {value == index ? \"selected\" : \"\"} value={index}>{item}</option>\n      )\n    })\n  }\n  handlerChange(e){\n    var target = e.target;\n    var value = target.value;\n    var text = target.dataset.text;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        data:{\n          value: value,\n          text: text\n        },\n        eventType:'select'\n      })\n    }\n  }\n  dateClick(e){\n    var evt = new Event('ysp-search-date');\n  \twindow.dispatchEvent(evt)\n  }\n   render = () => {\n      var _this = this;\n     \tvar data = this.props.customData;\n     \tvar loadingFlag = data.loadingFlag && data.loadingFlag[0];\n     \tif(loadingFlag == null ){\n        ysp.appMain.hideLoading();\n      }\n       return (\n         <div className = 'ysp-serch-moduledalog'>\n           <CustomHeader \n             data={{centerText:\"问卷填写\",rightText:\"筛选\"}} \n             backIsShow={true} \n             back={()=>{ \n                var handler = _this.props.customHandler;\n                if (handler) {\n                  handler({\n                    eventType: 'back'\n                  });\n                }\n               this.setState({\n                 show: false\n               })\n             }}\n             \n             workScreenIsShow={true}\n             screen={()=>{\n               this.setState({\n                 open: !this.state.open,\n                 show: !this.state.show\n               })\n             }}\n             />\n           {\n             this.state.show &&\n               <div className=\"ysp-search-chose-shadow\" onClick={_this.shadowClick.bind(_this)}>\n               </div>\n           }\n           <div>\n             {this.state.show && \n               <div className=\"ysp-search-chose-selected\">\n                 <div className=\"ysp-search-selected\">\n                  <span>时间选择:</span>\n                  <span>\n                    <span onClick={this.dateClick.bind(this)} \n                      className=\"ysp-search-date-selected\">\n                      {data && data.dateTime}\n                    </span>  \n                  </span>\n                 </div>\n                 <div className=\"ysp-search-selected\">\n                  <span>归属机构:</span>\n                  <span>\n                    <select selectedIndex='0' data-text = \"归属机构\" \n                      onChange={this.handlerChange.bind(this)}>\t\t\t\t\t\t                               \t\t\t\t\t\t\t\t\t\t\t\t{this.renderOptions()}\n                    </select>\n                  </span>\n                 </div>\n                 <div className=\"ysp-search-selected\">\n                  <span>项&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;目:</span>\n                  <span>\n                    <select selectedIndex='0' data-text=\"项目\" \n                      onChange={this.handlerChange.bind(this)}>\t\t\t\t\t\t                               \t\t\t\t\t\t\t\t\t\t\t\t{this.renderOptionsXM()}\n                    </select>\n                  </span>\n                 </div>\n                 <div className=\"ysp-search-selected\">\n                  <span>问卷类型:</span>\n                  <span>\n                    <select selectedIndex='0' data-text=\"问卷类型\"\n                      onChange={this.handlerChange.bind(this)}>\t\t\t\t\t\t                               \t\t\t\t\t\t\t\t\t\t\t\t{this.renderOptionsWJLX()}\n                    </select>\n                  </span>\n                 </div>\n                 <div className=\"ysp-search-selected\">\n                  <span>状&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;态:</span>\n                  <span>\n                    <select selectedIndex='0' data-text=\"状态\"\n                      onChange={this.handlerChange.bind(this)}>\t\t\t\t\t\t                               \t\t\t\t\t\t\t\t\t\t\t\t{this.renderOptionsZT()}\n                    </select>\n                  </span>\n                 </div>\n                 <div className=\"ysp-search-chose-button\">\n                   <span onClick={_this.buttonClick.bind(_this)} data-title = \"重置\">重置</span>\n                   <span onClick={_this.buttonClick.bind(_this)} data-title = \"确认\">确认</span>\n                 </div>\n               </div>  \n             }\n           </div>\n          </div>\n       );\n   }\n}"
getData_control327_7ywfHq: |
  return true;
doAction_uiControl317_yqEcaB: |
  if (data.eventType == 'upValue') {
    var input = elem.ownerDocument.querySelector('#srarch_date');
    input.value = data.dataCustom;
    input.focus(); // var cwin = elem.ownerDocument.defaultView;
    // cwin.timeSaleInit();
  }
getTemplate_uiControl317_yqEcaB: |-
  import {Component} from 'react';
  import {SaleReachCalendar} from 'ysp-custom-components';
  export default class extends Component{
    constructor(props){
      super(props);
      this.state={
        year : true,
        mouth : true,
        day : true,
        show : false,
        data : props.customData
      }
      window.addEventListener('ysp-search-date',this.toggle.bind(this),false)
    }
    componentDidUpdate(){
      this.state.show ? this.styleId(): console.log('日历还没打开呢');
      
    }
    styleId(){
      var doc = this.refs.time;
      if(this.state.data && !this.state.day  && !!this.state.mouth){
        doc.querySelector('#year').style.width = '50%';
        doc.querySelector('#mouth').style.width = '50%';
      }
      if(this.state.data && !this.state.mouth && !this.state.day){
        doc.querySelector('#year').style.width = '100%';
      }
      if(!this.state.data){
        doc.querySelector('#year').style.width = '100%';
      }
    }
    toggle(){
      this.setState({
        show : !this.state.show
      })
    }
    activeValue(even){
      var doc = even.parentElement.nextElementSibling;
      var year = doc.querySelector('#year').querySelector('.active').textContent;
      var mouth = this.state.mouth && doc.querySelector('#mouth').querySelector('.active').textContent;
      var day = this.state.day && doc.querySelector('#day').querySelector('.active').textContent;
      mouth = mouth < 10 ? '0' + mouth : mouth; 
      day = day && day < 10 ? '0' + day : day;
      var time = day ? (year + '-' + mouth + '-' + day ) :( mouth ? year + '-' + mouth : year);
      return time;
      // if(this.props.customData){
      //   var year = doc.querySelector('#year').querySelector('.active').textContent;
      //   var mouth = this.state.mouth && doc.querySelector('#mouth').querySelector('.active').textContent;
      //   var day = this.state.day && doc.querySelector('#day').querySelector('.active').textContent;
      //   mouth = mouth < 10 ? '0' + mouth : mouth; 
      //   day = day && day < 10 ? '0' + day : day;
      //   var time = day ? (year + '-' + mouth + '-' + day ) :( mouth ? year + '-' + mouth : year);
      //   return time;
      // }else{
      //   return doc.querySelector('#year').querySelector('.active').textContent;
      // }
      
    }
    upValue(e){
      var handler = this.props.customHandler;
      var value = this.activeValue(e.target);
      if(handler){
        handler({
          data : value,
          eventType : 'upValue'
        })
      }
      this.setState({
        show : false
      })
    }
    render(){
      var _this = this;
      return(
        <div>{this.state.show && 
          <div className='moudle-time' ref='time'>
            <div className = 'date-time'>
              <SaleReachCalendar 
                mouth = {_this.state.mouth}
                day = {_this.state.day}
                upValue = {_this.upValue.bind(_this)}
                show = {(e)=>{
                  _this.toggle();
                }}
                y = {_this.state.year}
              />
            </div>
          </div>}
        </div>
      )
    }
  }
getData_control328_GShoTC: >
  if (!elem) {
    return;
  }

  var data = {
    dataContent: [],
    dataLoading: []
  };

  var content = ysp.customHelper.getTableData(elem, ['问卷名称', '问卷类型', '客户/门店名称',
  '填写说明', '有效期', '频次要求', '状态']);

  var loading = ysp.customHelper.tipMsg.getLoading();

  data.dataContent.push(content);

  data.dataLoading.push(loading);

  return data;
doAction_uiControl318_TVQnXL: |
  if ("click" == data.eventType) {
    var index = data.customData; //elem.ownerDocument.querySelector("#tbodyContent").querySelectorAll("tr")[index].querySelectorAll("td")[7].querySelector("a").click();

    var url = 'http://192.168.220.82:8080/pttlCrm/res/page/' + elem.ownerDocument.querySelector("#tbodyContent").querySelectorAll("tr")[index].querySelector("a").getAttribute('url').split('../')[1];
    var as = elem.ownerDocument.querySelector("#tbodyContent").querySelectorAll("tr")[index].querySelector("a");
    as.setAttribute('url', url);
    as && as.click();
  }
getTemplate_uiControl318_TVQnXL: "import {Component} from 'react'; \nimport {CustomHeader} from 'ysp-custom-components';\nexport default class extends Component{\n   constructor(props){\n   \tsuper(props);\n  }\n  handlerClick=(e)=>{\n    var target = e.target;\n    var index = target.dataset.index;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        data: index,\n        eventType:'click'\n      })\n    }\n  }\n render = () => {\n  var _this = this;\n  var data = this.props.customData && this.props.customData.dataContent && this.props.customData.dataContent[0].content;\n   var dataLoading = this.props.customData && this.props.customData.dataLoading && this.props.customData.dataLoading[0];\n  if(data && data.length == 0 && dataLoading == null){\n    return(\n    \t<div className=\"ysp-no-data\">\n        <div></div>\n        <div>暂时没有数据~</div>  \n      </div>\n    );\n  }\n  return (\n  \t<div>\n      {\n        data && data.map((item,index)=>{\n          return(\n          \t<div className=\"ysp-questionnaire-write\">\n              <div>\n                <div>{item[2]}</div>\n                <div>\n                  <span>客户/门店名称:</span>\n                  <span>{item[1]}</span>\n                </div>\n                <div>\n                  <span>问卷类型:</span>\n                  <span>{item[0]}</span>\n                </div>\n                <div>\n                  <span>有效期:</span>\n                  <span>{item[4]}</span>\n                </div>\n                <div>\n                  <span>填写说明:</span>\n                  <span>{item[3]}</span>\n                </div>\n                <div>\n                  <span>频次要求:</span>\n                  <span>{item[5]}</span>\n                </div>  \n              </div>\n              <div className={item[6] == \"未填写\" ? \"ysp-questionnaire-no\" : item[6] == \"已填写\" ? \"ysp-questionnaire-yes\" : \"ysp-questionnaire-lose\"}>\n                <span data-index = {index} onClick={this.handlerClick.bind(this)}>\n                \t{item[6]}\n                </span>\n              </div>\n            </div>\n          );\n        })\n      }\n    </div>\n  );\n }\n}"
getData_control329_P6PZxU: |
  if (!elem) return;
  try {
    var data = {};
    var item = [];
    data.prev = false;
    data.next = false;
    data.numberTaotal = (elem && elem.querySelector('.skip') && elem.querySelector('.skip').querySelectorAll('span')[0] && elem.querySelector('.skip').querySelectorAll('span')[0].textContent).replace(/[^0-9]/g, '') || 0;
    var lis = elem.querySelectorAll('li');

    for (var i = 0; i < lis.length; i++) {
      var as = lis[i].querySelectorAll('a');

      for (var j = 0; j < as.length; j++) {
        switch (as[j].getAttribute('title')) {
          case 'Go to previous page':
            data.prev = true;
            break;

          case 'Go to next page':
            data.next = true;
            ;
            break;
        }
      }
    }

    var liss = elem.querySelectorAll('li');

    for (var k = 0; k < liss.length; k++) {
      var active = liss[k].className;

      if (active == 'active') {
        data.currentPage = liss[k].querySelector('a').textContent;
      }
    }

    data.page = elem.ownerDocument.querySelector('#tbodyContent').querySelectorAll('tr').length != 0 ? true : false;
  } catch (e) {
    console.log(e.message);
  }
  return data;
doAction_uiControl319_TAdV5r: |
  switch (data.eventType) {
    case 'prev':
      prevtitle(data.dataCustom);
      break;

    case 'next':
      prevtitle(data.dataCustom);
      break;

    case 'click':
      click(data.dataCustom);
      break;
  }
  function click(data) {
    var input = elem.ownerDocument.querySelector('.skip-num');
    input.value = data;
    input.blur();
    elem.ownerDocument.querySelector('#Page').querySelector('.skip_right_goto').querySelector('.skip-right-icon').click();
  }
  function prevtitle(data) {
    var lis = elem.querySelectorAll('li');

    for (var i = 0; i < lis.length; i++) {
      var as = lis[i].querySelectorAll('a');

      for (var j = 0; j < as.length; j++) {
        if (data == 'prev' && as[j].getAttribute('title') == 'Go to previous page') {
          as[j].click();
        } else if (data == 'next' && as[j].getAttribute('title') == 'Go to next page') {
          as[j].click();
        }
      }
    }
  }
getTemplate_uiControl319_TAdV5r: "import {\n  Component\n} from 'react';\nimport {\n  Page\n} from 'ysp-custom-components';\nexport default class extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      prevState: props.customData && props.customData.prev,\n      pageState: props.customData && props.customData.page,\n      nextState: props.customData && props.customData.next\n    }\n  }\n  componentWillReceiveProps(props){\n    this.setState({\n      prevState: props.customData && props.customData.prev,\n      pageState: props.customData && props.customData.page,\n      nextState: props.customData && props.customData.next\n    })\n  }\n  render() {\n    var _this = this;\n    return (\n      <div>\n      \t<Page \n          pageState = {this.state.pageState}\n      \t  prevState = {this.state.prevState}\n          nextState = {this.state.nextState}\n        \tprev={(e)=>{\n          var handler = _this.props.customHandler;\n          if(handler){\n            handler({\n              data:\"prev\",\n              eventType:'prev'\n            })\n          }\n             e.target.parentElement.querySelector('.input-serch').querySelector('input').value = '';\n        }}\n          currentPage = {this.props.customData && this.props.customData.currentPage}\n        \tpageNumber={this.props.customData && this.props.customData.numberTaotal}\n        \tnext={(e)=>{\n          var handler = _this.props.customHandler;\n          if(handler){\n            handler({\n              data:\"next\",\n              eventType:\"next\"\n            })\n          }\n            e.target.previousSibling.querySelector('input').value = '';\n        }}\n        Click={(e)=>{\n            var handler = this.props.customHandler;\n            var target = e.target;\n            // target.value = target.value.replace(/[^0-9]/g,'')\n            var value = target.parentElement.querySelector('input').value;\n            value = value.replace(/[^0-9]/g,'');\n            if(handler){\n              handler({\n                data:value,\n                eventType:'click'\n              })\n            }\n          }}\n          Change={(e)=>{\n            var target = e.target;\n            target.value = target.value.replace(/[^0-9]/g,'');\n          }}\n      />\n    </div>\n    )\n  }\n}"
getData_control346_DSlKeQ: |
  var data = {};
  if (ysp.customHelper.tipMsg.getMsg()) {
    data.postMessage = ysp.customHelper.tipMsg.getMsg();
  } else {
    data.postMessage = "";
  }
  if (ysp.customHelper.tipMsg.cancelText()) {
    data.cancel = ysp.customHelper.tipMsg.cancelText();
  } else {
    data.cancel = "";
  }
  return data;
doAction_uiControl336_NQ92bO: |
  if (data.eventType == "confirmClick") {
    ysp.customHelper.tipMsg.confirm();
  }
  if (data.eventType == "cancelClick") {
    ysp.customHelper.tipMsg.cancel();
  }
getTemplate_uiControl336_NQ92bO: "import {\n  Component\n} from 'react';\nimport {\n\tAlert\n} from 'ysp-custom-components';\nexport default class extends Component {\n  render(){\n    var _this=this;\n    var dataMessage = (this.props.customData && this.props.customData.postMessage) || \"\";\n    var dataCancel = (this.props.customData && this.props.customData.cancel) || \"\";\n     return(\n    \t<div>\n        {dataMessage ==\"\" ? \"\" : \n          <Alert\n            content={dataMessage}\n            cancelText={dataCancel}\n            dismiss={\n              (e)=>{\n                var handler=this.props.customHandler;\n                if(handler){\n                  handler({\n                    eventType:\"confirmClick\"\n                  })\n                }\n              }\n            }\n            cancel={\n             (e)=>{\n                var handler=this.props.customHandler;\n                if(handler){\n                  handler({\n                    eventType:\"cancelClick\"\n                  })\n                }\n              }\n           }\n          />\n        }\n      </div>\n    )\n  }\n}"
